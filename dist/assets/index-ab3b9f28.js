import{x as t,W as C,ai as N,A as S,ax as p,ay as f,ac as P,ab as F,d as D,b as h,a0 as U,a1 as A,$ as V,av as g,S as I,am as v,aP as R,b_ as E,B as W,b$ as L,ao as d,aU as z,a5 as n,a6 as o,c0 as H,c1 as a,c2 as j,c3 as Y,c4 as q,c5 as X,c6 as J,c7 as w,c8 as Q,c9 as K,ca as Z,cb as G,cc as ee,cd as te,ce as ne,b9 as oe,cf as re,cg as ie,ch as ae,ci as se,cj as ce,aQ as le,ck as me,cl as ue,cm as ge,cn as de,az as _e,a$ as he,be as Ee,bv as pe,a7 as y,aB as O,co as fe,bI as Ae,bA as Ie,bB as ve,bC as Re,bD as De,bE as Le,aT as T,bG as B,bH as k,bw as Te,cp as $e,n as be,cq as Pe,cr as we,cs as Oe}from"./index-e907980e.js";import{b as Ce,a as Se}from"./useTitle-ec03961f.js";import{A as Ve,j as ye,b as Be,k as ke,l as xe,m as Me,n as Ne}from"./index-6ff6046d.js";import{a as Fe}from"./index-16537cee.js";var c=(e=>(e[e.SINGLE=0]="SINGLE",e[e.SITE=1]="SITE",e[e.STYLE=2]="STYLE",e[e.PREVIEW=3]="PREVIEW",e[e.GLOBAL=4]="GLOBAL",e[e.ARIA2=5]="ARIA2",e[e.INDEX=6]="INDEX",e[e.SSO=7]="SSO",e[e.LDAP=8]="LDAP",e[e.S3=9]="S3",e[e.FTP=10]="FTP",e[e.TRAFFIC=11]="TRAFFIC",e))(c||{}),Ue=(e=>(e[e.PUBLIC=0]="PUBLIC",e[e.PRIVATE=1]="PRIVATE",e[e.READONLY=2]="READONLY",e[e.DEPRECATED=3]="DEPRECATED",e))(Ue||{});const We=e=>{const r=S(()=>!(e.role!==void 0&&!p.hasAccess(f(),e.role)||e.children&&!e.children.some(s=>s.role!==void 0?p.hasAccess(f(),s.role):!0)));return t(F,{get fallback(){return t(ze,e)},get children(){return[t(P,{get when(){return!r()},children:null}),t(P,{get when(){return e.children},get children(){return t(He,e)}})]}})},ze=e=>{const{pathname:r}=D(),i=h(),s=()=>r()===e.to;return t(Ve,{get cancelBase(){return e.to.startsWith("http")},display:"flex",as:U,get href(){return e.to},onClick:m=>{var _;if(x(),e.refresh){(_=m.stopPropagation)==null||_.call(m);let u=e.to;u.startsWith("http")||(u=A(u)),window.open(u,"_self")}},w:"$full",alignItems:"center",get _hover(){return{bgColor:s()?"$info4":V(),textDecoration:"none"}},px:"$2",py:"$1_5",rounded:"$md",cursor:"pointer",get bgColor(){return s()?"$info4":""},get color(){return s()?"$info11":""},get external(){return e.external},get children(){return t(g,{spacing:"$2",get children(){return[t(I,{get when(){return e.icon},get children(){return v(()=>typeof e.icon=="function",!0)()?e.icon({active:s()}):t(R,{get as(){return e.icon}})}}),t(E,{get children(){return i(e.title)}})]}})}})},He=e=>{const{pathname:r}=D(),[i,s]=W(r().includes(e.to)),m=h(),_=S(()=>e.children?e.children.some(u=>u.role!==void 0?p.hasAccess(f(),u.role):!0):!1);return t(d,{w:"$full",get children(){return[t(L,{justifyContent:"space-between",onClick:()=>{s(!i())},w:"$full",alignItems:"center",get _hover(){return{bgColor:V()}},px:"$2",py:"$1_5",rounded:"$md",cursor:"pointer",get children(){return[t(g,{spacing:"$2",get children(){return[t(I,{get when(){return e.icon},get children(){return v(()=>typeof e.icon=="function",!0)()?e.icon({active:!1}):t(R,{get as(){return e.icon}})}}),t(E,{get children(){return m(e.title)}})]}}),t(R,{as:ye,get transform(){return i()?"rotate(90deg)":"none"},transition:"transform 0.2s"})]}}),t(I,{get when(){return v(()=>!!i(),!0)()&&_()},get children(){return t(d,{pl:"$2",get children(){return t($,{get items(){return e.children}})}})}})]}})},$=e=>t(N,{p:"$2",w:"$full",color:"$neutral11",spacing:"$1",get children(){return t(C,{get each(){return e.items},children:r=>t(We,r)})}});function je(e){return z({a:{viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 015.25 7H4v4a1 1 0 001 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0114.25 16h-3.5A1.75 1.75 0 019 14.25v-.75H5A2.5 2.5 0 012.5 11V7h-.75A1.75 1.75 0 010 5.25v-3.5zm1.75-.25a.25.25 0 00-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 00.25-.25v-3.5a.25.25 0 00-.25-.25h-3.5zm9 9a.25.25 0 00-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 00.25-.25v-3.5a.25.25 0 00-.25-.25h-3.5z"/>'},e)}const Ye=_e('<img alt="search">'),l=n(()=>o(()=>import("./Common-2b8ab9b0.js"),["assets/Common-2b8ab9b0.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/SettingItem-52c15ee0.js","assets/item_type-32dc6fdf.js","assets/index-6ff6046d.js","assets/ResponsiveGrid-c2ffb755.js","assets/index-16537cee.js"])),b=[{title:"manage.sidemenu.profile",icon:H,to:"/@manage",role:a.GUEST,component:n(()=>o(()=>import("./Profile-91d5e863.js"),["assets/Profile-91d5e863.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/index-6ff6046d.js","assets/webauthn-json.browser-ponyfill-f2f06d6e.js"]))},{title:"manage.sidemenu.settings",icon:j,to:"/@manage/settings",role:a.ADMIN,children:[{title:"manage.sidemenu.site",icon:Y,to:"/@manage/settings/site",component:()=>t(l,{get group(){return c.SITE}})},{title:"manage.sidemenu.style",icon:q,to:"/@manage/settings/style",component:()=>t(l,{get group(){return c.STYLE}})},{title:"manage.sidemenu.preview",icon:X,to:"/@manage/settings/preview",component:()=>t(l,{get group(){return c.PREVIEW}})},{title:"manage.sidemenu.global",icon:J,to:"/@manage/settings/global",component:()=>t(l,{get group(){return c.GLOBAL}})},{title:"manage.sidemenu.sso",icon:w,to:"/@manage/settings/sso",component:()=>t(l,{get group(){return c.SSO}})},{title:"manage.sidemenu.ldap",icon:w,to:"/@manage/settings/ldap",component:()=>t(l,{get group(){return c.LDAP}})},{title:"manage.sidemenu.s3",icon:Q,to:"/@manage/settings/s3",component:n(()=>o(()=>import("./S3-2d682644.js"),["assets/S3-2d682644.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/SettingItem-52c15ee0.js","assets/item_type-32dc6fdf.js","assets/index-6ff6046d.js","assets/ResponsiveGrid-c2ffb755.js","assets/FolderTree-bbadce5f.js","assets/index-638a17ca.js","assets/index-16537cee.js"]))},{title:"manage.sidemenu.tag",icon:e=>(()=>{const r=Ye.cloneNode(!0);return K(i=>{const s=e.active?A("/images/tag-active.png"):A("/images/tag-gray.png"),m={width:"1.1em",height:"1.1em",...e.style||{}};return s!==i._v$&&Z(r,"src",i._v$=s),i._v$2=G(r,m,i._v$2),i},{_v$:void 0,_v$2:void 0}),r})(),to:"/@manage/settings/tag",component:n(()=>o(()=>import("./Tag-add7677f.js"),["assets/Tag-add7677f.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/color-a58de010.js","assets/DeletePopover-be7c2b62.js","assets/AddLabelDialog-577f47a8.js"]))},{title:"manage.sidemenu.ftp",icon:ee,to:"/@manage/settings/ftp",component:()=>t(l,{get group(){return c.FTP}})},{title:"manage.sidemenu.traffic",icon:te,to:"/@manage/settings/traffic",component:()=>t(l,{get group(){return c.TRAFFIC}})},{title:"manage.sidemenu.other",icon:ne,to:"/@manage/settings/other",component:n(()=>o(()=>import("./Other-8ad9e456.js"),["assets/Other-8ad9e456.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/FolderTree-bbadce5f.js","assets/index-6ff6046d.js","assets/useTitle-ec03961f.js","assets/SettingItem-52c15ee0.js","assets/item_type-32dc6fdf.js","assets/index-16537cee.js"]))}]},{title:"manage.sidemenu.tasks",icon:je,to:"/@manage/tasks",role:a.GENERAL,children:[{title:"manage.sidemenu.offline_download",icon:oe,to:"/@manage/tasks/offline_download",role:a.GENERAL,component:n(()=>o(()=>import("./offline_download-cc2a605d.js"),["assets/offline_download-cc2a605d.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/helper-1e616451.js","assets/Paginator-fc9bf21f.js","assets/index-6ff6046d.js"]))},{title:"manage.sidemenu.upload",icon:re,to:"/@manage/tasks/upload",role:a.GENERAL,component:n(()=>o(()=>import("./Upload-7ea5a085.js"),["assets/Upload-7ea5a085.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/helper-1e616451.js","assets/Paginator-fc9bf21f.js","assets/index-6ff6046d.js"]))},{title:"manage.sidemenu.copy",icon:ie,to:"/@manage/tasks/copy",role:a.GENERAL,component:n(()=>o(()=>import("./Copy-b8a74d33.js"),["assets/Copy-b8a74d33.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/helper-1e616451.js","assets/Paginator-fc9bf21f.js","assets/index-6ff6046d.js"]))},{title:"manage.sidemenu.decompress",icon:Be,to:"/@manage/tasks/decompress",role:a.GENERAL,component:n(()=>o(()=>import("./Decompress-ef6ed3d7.js"),["assets/Decompress-ef6ed3d7.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/helper-1e616451.js","assets/Paginator-fc9bf21f.js","assets/index-6ff6046d.js"]))}]},{title:"manage.sidemenu.role",icon:e=>t(ae,{get style(){return{width:"18px",height:"18px",...e.style||{}}}}),to:"/@manage/permissions/role",role:a.ADMIN,component:n(()=>o(()=>import("./Role-5e0ac335.js"),["assets/Role-5e0ac335.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/DeletePopover-be7c2b62.js"]))},{title:"manage.sidemenu.users",icon:se,to:"/@manage/users",role:a.ADMIN,component:n(()=>o(()=>import("./Users-e2b2f41c.js"),["assets/Users-e2b2f41c.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/DeletePopover-be7c2b62.js","assets/Wether-f80e7fba.js"]))},{title:"manage.sidemenu.session",icon:e=>t(ke,{get style(){return{width:"18px",height:"18px",...e.style||{}}}}),to:"/@manage/session",role:a.GENERAL,children:[{title:"manage.sidemenu.my_session",icon:e=>t(xe,{get style(){return{width:"19px",height:"19px",...e.style||{}}}}),to:"/@manage/session/my_session",role:a.GENERAL,component:n(()=>o(()=>import("./mySession-6de77b6a.js"),["assets/mySession-6de77b6a.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/ua-parser-5a8f43f2.js","assets/DeletePopover-be7c2b62.js"]))},{title:"manage.sidemenu.session_management",role:a.ADMIN,icon:e=>t(Fe,{get style(){return{width:"18px",height:"18px",...e.style||{}}}}),to:"/@manage/session/management",component:n(()=>o(()=>import("./management-50a18d3f.js"),["assets/management-50a18d3f.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/DeletePopover-be7c2b62.js","assets/ua-parser-5a8f43f2.js"]))}]},{title:"manage.sidemenu.storages",icon:Me,to:"/@manage/storages",role:a.ADMIN,component:n(()=>o(()=>import("./Storages-b3da6beb.js"),["assets/Storages-b3da6beb.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/DeletePopover-be7c2b62.js"]))},{title:"manage.sidemenu.metas",icon:ce,to:"/@manage/metas",role:a.ADMIN,component:n(()=>o(()=>import("./Metas-3bdcb183.js"),["assets/Metas-3bdcb183.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/DeletePopover-be7c2b62.js","assets/Wether-f80e7fba.js"]))},{title:"manage.sidemenu.indexes",icon:le,to:"/@manage/indexes",role:a.ADMIN,component:n(()=>o(()=>import("./indexes-6c60439e.js"),["assets/indexes-6c60439e.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/Common-2b8ab9b0.js","assets/useTitle-ec03961f.js","assets/SettingItem-52c15ee0.js","assets/item_type-32dc6fdf.js","assets/index-6ff6046d.js","assets/ResponsiveGrid-c2ffb755.js","assets/index-16537cee.js"]))},{title:"manage.sidemenu.backup-restore",to:"/@manage/backup-restore",icon:me,role:a.ADMIN,component:n(()=>o(()=>import("./backup-restore-85e30c4b.js"),["assets/backup-restore-85e30c4b.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js","assets/index-638a17ca.js"]))},{title:"manage.sidemenu.about",icon:ue,to:"/@manage/about",role:a.GUEST,component:n(()=>o(()=>import("./About-ad2c98df.js"),["assets/About-ad2c98df.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/useTitle-ec03961f.js"]))},{title:"manage.sidemenu.docs",icon:ge,to:"https://alist.nn.ci",role:a.GUEST,external:!0},{title:"manage.sidemenu.home",icon:de,to:"/",role:a.GUEST,refresh:!0}],{isOpen:qe,onOpen:Xe,onClose:x}=he(),[Je,Qe]=Ee(()=>pe.get("/auth/logout")),Ke=()=>{const e=h(),{to:r}=D(),i=async()=>{Te(await Qe(),()=>{$e(),be.success(e("manage.logout_success")),r(`/@login?redirect=${encodeURIComponent(location.pathname)}`)})};return t(d,{as:"header",position:"sticky",top:"0",left:"0",right:"0",zIndex:"$sticky",height:"64px",flexShrink:0,shadow:"$md",p:"$4",get bgColor(){return y("$background","$neutral2")()},get children(){return[t(L,{alignItems:"center",justifyContent:"space-between",h:"$full",get children(){return[t(g,{spacing:"$2",get children(){return[t(O,{"aria-label":"menu",get icon(){return t(Ne,{})},display:{"@sm":"none"},onClick:Xe,size:"sm"}),t(E,{fontSize:"$xl",color:"$info9",cursor:"pointer",onClick:()=>{r("/@manage")},get children(){return e("manage.title")}})]}}),t(g,{spacing:"$1",get children(){return t(O,{"aria-label":"logout",get icon(){return t(fe,{})},get loading(){return Je()},onClick:i,size:"sm"})}})]}}),t(Ae,{get opened(){return qe()},placement:"left",onClose:x,get children(){return[t(Ie,{}),t(ve,{get children(){return[t(Re,{}),t(De,{color:"$info9",get children(){return e("manage.title")}}),t(Le,{get children(){return[t($,{items:b}),t(T,{get children(){return t(g,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[t(B,{}),t(k,{})]}})}})]}})]}})]}})]}})},Ze=[{to:"/storages/add",component:n(()=>o(()=>import("./AddOrEdit-c2b71d9e.js"),["assets/AddOrEdit-c2b71d9e.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/item_type-32dc6fdf.js","assets/ResponsiveGrid-c2ffb755.js"]))},{to:"/storages/edit/:id",component:n(()=>o(()=>import("./AddOrEdit-c2b71d9e.js"),["assets/AddOrEdit-c2b71d9e.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/item_type-32dc6fdf.js","assets/ResponsiveGrid-c2ffb755.js"]))},{to:"/users/add",component:n(()=>o(()=>import("./AddOrEdit-71d9eb51.js"),["assets/AddOrEdit-71d9eb51.js","assets/index-e907980e.js","assets/index-b206f97b.css"]))},{to:"/users/edit/:id",component:n(()=>o(()=>import("./AddOrEdit-71d9eb51.js"),["assets/AddOrEdit-71d9eb51.js","assets/index-e907980e.js","assets/index-b206f97b.css"]))},{to:"/metas/add",component:n(()=>o(()=>import("./AddOrEdit-be0c08a7.js"),["assets/AddOrEdit-be0c08a7.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/FolderTree-bbadce5f.js","assets/index-6ff6046d.js"]))},{to:"/metas/edit/:id",component:n(()=>o(()=>import("./AddOrEdit-be0c08a7.js"),["assets/AddOrEdit-be0c08a7.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/FolderTree-bbadce5f.js","assets/index-6ff6046d.js"]))},{to:"/permissions/add",component:n(()=>o(()=>import("./AddOrEdit-b3b1a63f.js"),["assets/AddOrEdit-b3b1a63f.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/index-6ff6046d.js"]))},{to:"/permissions/config/edit/:id",component:n(()=>o(()=>import("./PermissionForm-a88d78f7.js"),["assets/PermissionForm-a88d78f7.js","assets/index-e907980e.js","assets/index-b206f97b.css"]))},{to:"/permissions/config/add",component:n(()=>o(()=>import("./PermissionForm-a88d78f7.js"),["assets/PermissionForm-a88d78f7.js","assets/index-e907980e.js","assets/index-b206f97b.css"]))},{to:"/permissions/edit/:id",component:n(()=>o(()=>import("./AddOrEdit-b3b1a63f.js"),["assets/AddOrEdit-b3b1a63f.js","assets/index-e907980e.js","assets/index-b206f97b.css","assets/index-6ff6046d.js"]))},{to:"/2fa",component:n(()=>o(()=>import("./2fa-7b9e8474.js"),["assets/2fa-7b9e8474.js","assets/index-e907980e.js","assets/index-b206f97b.css"]))},{to:"/messenger",component:n(()=>o(()=>import("./Messenger-25ffd2c5.js"),["assets/Messenger-25ffd2c5.js","assets/index-e907980e.js","assets/index-b206f97b.css"]))}],Ge=e=>(Ce(e.title),t(T,{h:"$full",get children(){return t(E,{get children(){return e.title}})}})),M=(e,r=[])=>(e.forEach(i=>{i.children?M(i.children,r):r.push({to:Pe(i.to,"/@manage"),component:i.component||(()=>t(Ge,{get title(){return i.title},get to(){return i.to||"empty"}}))})}),r),et=M(b).concat(Ze),tt=()=>{const e=h();return Se(()=>e("manage.title")),t(d,{css:{"--hope-colors-background":"var(--hope-colors-loContrast)"},bgColor:"$background",w:"$full",get children(){return[t(Ke,{}),t(L,{w:"$full",h:"calc(100vh - 64px)",get children(){return[t(d,{display:{"@initial":"none","@sm":"block"},w:"$56",h:"$full",shadow:"$md",get bgColor(){return y("$background","$neutral2")()},overflowY:"auto",get children(){return[t($,{items:b}),t(T,{get children(){return t(g,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[t(B,{}),t(k,{})]}})}})]}}),t(d,{w:{"@initial":"$full","@sm":"calc(100% - 14rem)"},p:"$4",overflowY:"auto",get children(){return t(we,{get children(){return t(C,{each:et,children:r=>t(Oe,{get path(){return r.to},get component(){return r.component}})})}})}})]}})]}})},at=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"}));export{Ue as F,c as G,at as i};
