import{x as t,W as S,ai as F,A as V,ax as p,ay as f,ac as P,ab as U,d as D,b as h,a0 as W,a1 as A,$ as y,av as g,S as I,am as v,aP as R,c2 as E,B as z,c3 as L,ao as d,aU as H,a5 as n,a6 as o,c4 as Y,c5 as a,c6 as j,c7 as q,c8 as X,c9 as J,ca as Q,cb as O,cc as w,b_ as K,b$ as Z,cd as G,ce as ee,cf as te,cg as ne,b9 as oe,ch as re,ci as ie,cj as ae,ck as se,cl as ce,aQ as le,cm as me,cn as ue,co as ge,cp as de,az as _e,a$ as he,be as Ee,bv as pe,a7 as B,aB as C,cq as fe,bI as Ae,bA as Ie,bB as ve,bC as Re,bD as De,bE as Le,aT as T,bG as k,bH as x,bw as Te,cr as $e,n as be,cs as Pe,ct as Oe,cu as we}from"./index-13b290a7.js";import{b as Ce,a as Se}from"./useTitle-efd03a2a.js";import{A as Ve,l as ye,b as Be,m as ke,n as xe,o as Me,p as Ne}from"./index-c1c6ff9d.js";import{a as Fe}from"./index-69644529.js";var c=(e=>(e[e.SINGLE=0]="SINGLE",e[e.SITE=1]="SITE",e[e.STYLE=2]="STYLE",e[e.PREVIEW=3]="PREVIEW",e[e.GLOBAL=4]="GLOBAL",e[e.ARIA2=5]="ARIA2",e[e.INDEX=6]="INDEX",e[e.SSO=7]="SSO",e[e.LDAP=8]="LDAP",e[e.S3=9]="S3",e[e.FTP=10]="FTP",e[e.TRAFFIC=11]="TRAFFIC",e))(c||{}),Ue=(e=>(e[e.PUBLIC=0]="PUBLIC",e[e.PRIVATE=1]="PRIVATE",e[e.READONLY=2]="READONLY",e[e.DEPRECATED=3]="DEPRECATED",e))(Ue||{});const We=e=>{const r=V(()=>!(e.role!==void 0&&!p.hasAccess(f(),e.role)||e.children&&!e.children.some(s=>s.role!==void 0?p.hasAccess(f(),s.role):!0)));return t(U,{get fallback(){return t(ze,e)},get children(){return[t(P,{get when(){return!r()},children:null}),t(P,{get when(){return e.children},get children(){return t(He,e)}})]}})},ze=e=>{const{pathname:r}=D(),i=h(),s=()=>r()===e.to;return t(Ve,{get cancelBase(){return e.to.startsWith("http")},display:"flex",as:W,get href(){return e.to},onClick:m=>{var _;if(M(),e.refresh){(_=m.stopPropagation)==null||_.call(m);let u=e.to;u.startsWith("http")||(u=A(u)),window.open(u,"_self")}},w:"$full",alignItems:"center",get _hover(){return{bgColor:s()?"$info4":y(),textDecoration:"none"}},px:"$2",py:"$1_5",rounded:"$md",cursor:"pointer",get bgColor(){return s()?"$info4":""},get color(){return s()?"$info11":""},get external(){return e.external},get children(){return t(g,{spacing:"$2",get children(){return[t(I,{get when(){return e.icon},get children(){return v(()=>typeof e.icon=="function",!0)()?e.icon({active:s()}):t(R,{get as(){return e.icon}})}}),t(E,{get children(){return i(e.title)}})]}})}})},He=e=>{const{pathname:r}=D(),[i,s]=z(r().includes(e.to)),m=h(),_=V(()=>e.children?e.children.some(u=>u.role!==void 0?p.hasAccess(f(),u.role):!0):!1);return t(d,{w:"$full",get children(){return[t(L,{justifyContent:"space-between",onClick:()=>{s(!i())},w:"$full",alignItems:"center",get _hover(){return{bgColor:y()}},px:"$2",py:"$1_5",rounded:"$md",cursor:"pointer",get children(){return[t(g,{spacing:"$2",get children(){return[t(I,{get when(){return e.icon},get children(){return v(()=>typeof e.icon=="function",!0)()?e.icon({active:!1}):t(R,{get as(){return e.icon}})}}),t(E,{get children(){return m(e.title)}})]}}),t(R,{as:ye,get transform(){return i()?"rotate(90deg)":"none"},transition:"transform 0.2s"})]}}),t(I,{get when(){return v(()=>!!i(),!0)()&&_()},get children(){return t(d,{pl:"$2",get children(){return t($,{get items(){return e.children}})}})}})]}})},$=e=>t(F,{p:"$2",w:"$full",color:"$neutral11",spacing:"$1",get children(){return t(S,{get each(){return e.items},children:r=>t(We,r)})}});function Ye(e){return H({a:{viewBox:"0 0 16 16"},c:'<path fill-rule="evenodd" d="M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 015.25 7H4v4a1 1 0 001 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0114.25 16h-3.5A1.75 1.75 0 019 14.25v-.75H5A2.5 2.5 0 012.5 11V7h-.75A1.75 1.75 0 010 5.25v-3.5zm1.75-.25a.25.25 0 00-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 00.25-.25v-3.5a.25.25 0 00-.25-.25h-3.5zm9 9a.25.25 0 00-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 00.25-.25v-3.5a.25.25 0 00-.25-.25h-3.5z"/>'},e)}const je=_e('<img alt="search">'),l=n(()=>o(()=>import("./Common-972fe675.js"),["assets/Common-972fe675.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/SettingItem-b001fb21.js","assets/item_type-32dc6fdf.js","assets/index-c1c6ff9d.js","assets/ResponsiveGrid-35b6c8ed.js","assets/index-69644529.js"])),b=[{title:"manage.sidemenu.profile",icon:Y,to:"/@manage",role:a.GUEST,component:n(()=>o(()=>import("./Profile-3fecd1ab.js"),["assets/Profile-3fecd1ab.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/index-c1c6ff9d.js","assets/webauthn-json.browser-ponyfill-f2f06d6e.js"]))},{title:"manage.sidemenu.settings",icon:j,to:"/@manage/settings",role:a.ADMIN,children:[{title:"manage.sidemenu.site",icon:q,to:"/@manage/settings/site",component:()=>t(l,{get group(){return c.SITE}})},{title:"manage.sidemenu.style",icon:X,to:"/@manage/settings/style",component:()=>t(l,{get group(){return c.STYLE}})},{title:"manage.sidemenu.preview",icon:J,to:"/@manage/settings/preview",component:()=>t(l,{get group(){return c.PREVIEW}})},{title:"manage.sidemenu.global",icon:Q,to:"/@manage/settings/global",component:()=>t(l,{get group(){return c.GLOBAL}})},{title:"manage.sidemenu.sso",icon:O,to:"/@manage/settings/sso",component:()=>t(l,{get group(){return c.SSO}})},{title:"manage.sidemenu.ldap",icon:O,to:"/@manage/settings/ldap",component:()=>t(l,{get group(){return c.LDAP}})},{title:"manage.sidemenu.s3",icon:w,to:"/@manage/settings/s3",component:n(()=>o(()=>import("./S3-3368841d.js"),["assets/S3-3368841d.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/SettingItem-b001fb21.js","assets/item_type-32dc6fdf.js","assets/index-c1c6ff9d.js","assets/ResponsiveGrid-35b6c8ed.js","assets/FolderTree-6f54b0b0.js","assets/index-8034ec29.js","assets/index-69644529.js"]))},{title:"manage.sidemenu.tag",icon:e=>(()=>{const r=je.cloneNode(!0);return K(i=>{const s=e.active?A("/images/tag-active.png"):A("/images/tag-gray.png"),m={width:"1.1em",height:"1.1em",...e.style||{}};return s!==i._v$&&Z(r,"src",i._v$=s),i._v$2=G(r,m,i._v$2),i},{_v$:void 0,_v$2:void 0}),r})(),to:"/@manage/settings/tag",component:n(()=>o(()=>import("./Tag-28e6c753.js"),["assets/Tag-28e6c753.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/color-a58de010.js","assets/DeletePopover-14667228.js","assets/AddLabelDialog-0c30515a.js"]))},{title:"manage.sidemenu.ftp",icon:ee,to:"/@manage/settings/ftp",component:()=>t(l,{get group(){return c.FTP}})},{title:"manage.sidemenu.traffic",icon:te,to:"/@manage/settings/traffic",component:()=>t(l,{get group(){return c.TRAFFIC}})},{title:"manage.sidemenu.other",icon:ne,to:"/@manage/settings/other",component:n(()=>o(()=>import("./Other-db3bfec1.js"),["assets/Other-db3bfec1.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/FolderTree-6f54b0b0.js","assets/index-c1c6ff9d.js","assets/useTitle-efd03a2a.js","assets/SettingItem-b001fb21.js","assets/item_type-32dc6fdf.js","assets/index-69644529.js"]))}]},{title:"manage.sidemenu.tasks",icon:Ye,to:"/@manage/tasks",role:a.GENERAL,children:[{title:"manage.sidemenu.offline_download",icon:oe,to:"/@manage/tasks/offline_download",role:a.GENERAL,component:n(()=>o(()=>import("./offline_download-827377f8.js"),["assets/offline_download-827377f8.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/Tasks-955b8122.js","assets/Paginator-6b8b297f.js","assets/index-c1c6ff9d.js","assets/helper-35b1dcfb.js"]))},{title:"manage.sidemenu.upload",icon:re,to:"/@manage/tasks/upload",role:a.GENERAL,component:n(()=>o(()=>import("./Upload-dac85921.js"),["assets/Upload-dac85921.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/Tasks-955b8122.js","assets/Paginator-6b8b297f.js","assets/index-c1c6ff9d.js","assets/helper-35b1dcfb.js"]))},{title:"manage.sidemenu.copy",icon:ie,to:"/@manage/tasks/copy",role:a.GENERAL,component:n(()=>o(()=>import("./Copy-27ccc5bb.js"),["assets/Copy-27ccc5bb.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/Tasks-955b8122.js","assets/Paginator-6b8b297f.js","assets/index-c1c6ff9d.js","assets/helper-35b1dcfb.js"]))},{title:"manage.sidemenu.decompress",icon:Be,to:"/@manage/tasks/decompress",role:a.GENERAL,component:n(()=>o(()=>import("./Decompress-487355e7.js"),["assets/Decompress-487355e7.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/Tasks-955b8122.js","assets/Paginator-6b8b297f.js","assets/index-c1c6ff9d.js","assets/helper-35b1dcfb.js"]))},{title:"manage.sidemenu.s3_transition",icon:w,to:"/@manage/tasks/s3_transition",role:a.GENERAL,component:n(()=>o(()=>import("./S3Transition-0528c963.js"),["assets/S3Transition-0528c963.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/storage-class-1ac53f89.js","assets/useTitle-efd03a2a.js","assets/Tasks-955b8122.js","assets/Paginator-6b8b297f.js","assets/index-c1c6ff9d.js"]))}]},{title:"manage.sidemenu.role",icon:e=>t(ae,{get style(){return{width:"18px",height:"18px",...e.style||{}}}}),to:"/@manage/permissions/role",role:a.ADMIN,component:n(()=>o(()=>import("./Role-a54a8031.js"),["assets/Role-a54a8031.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/DeletePopover-14667228.js"]))},{title:"manage.sidemenu.users",icon:se,to:"/@manage/users",role:a.ADMIN,component:n(()=>o(()=>import("./Users-d61fcb09.js"),["assets/Users-d61fcb09.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/DeletePopover-14667228.js","assets/Wether-efd806ad.js"]))},{title:"manage.sidemenu.session",icon:e=>t(ke,{get style(){return{width:"18px",height:"18px",...e.style||{}}}}),to:"/@manage/session",role:a.GENERAL,children:[{title:"manage.sidemenu.my_session",icon:e=>t(xe,{get style(){return{width:"19px",height:"19px",...e.style||{}}}}),to:"/@manage/session/my_session",role:a.GENERAL,component:n(()=>o(()=>import("./mySession-94f62c14.js"),["assets/mySession-94f62c14.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/ua-parser-5a8f43f2.js","assets/DeletePopover-14667228.js"]))},{title:"manage.sidemenu.session_management",role:a.ADMIN,icon:e=>t(Fe,{get style(){return{width:"18px",height:"18px",...e.style||{}}}}),to:"/@manage/session/management",component:n(()=>o(()=>import("./management-c5058b09.js"),["assets/management-c5058b09.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/DeletePopover-14667228.js","assets/ua-parser-5a8f43f2.js"]))}]},{title:"manage.sidemenu.storages",icon:Me,to:"/@manage/storages",role:a.ADMIN,component:n(()=>o(()=>import("./Storages-71961af9.js"),["assets/Storages-71961af9.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/DeletePopover-14667228.js"]))},{title:"manage.sidemenu.metas",icon:ce,to:"/@manage/metas",role:a.ADMIN,component:n(()=>o(()=>import("./Metas-73ad14ea.js"),["assets/Metas-73ad14ea.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/DeletePopover-14667228.js","assets/Wether-efd806ad.js"]))},{title:"manage.sidemenu.indexes",icon:le,to:"/@manage/indexes",role:a.ADMIN,component:n(()=>o(()=>import("./indexes-7cc6998a.js"),["assets/indexes-7cc6998a.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/Common-972fe675.js","assets/useTitle-efd03a2a.js","assets/SettingItem-b001fb21.js","assets/item_type-32dc6fdf.js","assets/index-c1c6ff9d.js","assets/ResponsiveGrid-35b6c8ed.js","assets/index-69644529.js"]))},{title:"manage.sidemenu.backup-restore",to:"/@manage/backup-restore",icon:me,role:a.ADMIN,component:n(()=>o(()=>import("./backup-restore-7a7d8f68.js"),["assets/backup-restore-7a7d8f68.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js","assets/index-8034ec29.js"]))},{title:"manage.sidemenu.about",icon:ue,to:"/@manage/about",role:a.GUEST,component:n(()=>o(()=>import("./About-e47182af.js"),["assets/About-e47182af.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/useTitle-efd03a2a.js"]))},{title:"manage.sidemenu.docs",icon:ge,to:"https://alist.nn.ci",role:a.GUEST,external:!0},{title:"manage.sidemenu.home",icon:de,to:"/",role:a.GUEST,refresh:!0}],{isOpen:qe,onOpen:Xe,onClose:M}=he(),[Je,Qe]=Ee(()=>pe.get("/auth/logout")),Ke=()=>{const e=h(),{to:r}=D(),i=async()=>{Te(await Qe(),()=>{$e(),be.success(e("manage.logout_success")),r(`/@login?redirect=${encodeURIComponent(location.pathname)}`)})};return t(d,{as:"header",position:"sticky",top:"0",left:"0",right:"0",zIndex:"$sticky",height:"64px",flexShrink:0,shadow:"$md",p:"$4",get bgColor(){return B("$background","$neutral2")()},get children(){return[t(L,{alignItems:"center",justifyContent:"space-between",h:"$full",get children(){return[t(g,{spacing:"$2",get children(){return[t(C,{"aria-label":"menu",get icon(){return t(Ne,{})},display:{"@sm":"none"},onClick:Xe,size:"sm"}),t(E,{fontSize:"$xl",color:"$info9",cursor:"pointer",onClick:()=>{r("/@manage")},get children(){return e("manage.title")}})]}}),t(g,{spacing:"$1",get children(){return t(C,{"aria-label":"logout",get icon(){return t(fe,{})},get loading(){return Je()},onClick:i,size:"sm"})}})]}}),t(Ae,{get opened(){return qe()},placement:"left",onClose:M,get children(){return[t(Ie,{}),t(ve,{get children(){return[t(Re,{}),t(De,{color:"$info9",get children(){return e("manage.title")}}),t(Le,{get children(){return[t($,{items:b}),t(T,{get children(){return t(g,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[t(k,{}),t(x,{})]}})}})]}})]}})]}})]}})},Ze=[{to:"/storages/add",component:n(()=>o(()=>import("./AddOrEdit-9d27739a.js"),["assets/AddOrEdit-9d27739a.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/item_type-32dc6fdf.js","assets/ResponsiveGrid-35b6c8ed.js"]))},{to:"/storages/edit/:id",component:n(()=>o(()=>import("./AddOrEdit-9d27739a.js"),["assets/AddOrEdit-9d27739a.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/item_type-32dc6fdf.js","assets/ResponsiveGrid-35b6c8ed.js"]))},{to:"/users/add",component:n(()=>o(()=>import("./AddOrEdit-e6bf2264.js"),["assets/AddOrEdit-e6bf2264.js","assets/index-13b290a7.js","assets/index-b206f97b.css"]))},{to:"/users/edit/:id",component:n(()=>o(()=>import("./AddOrEdit-e6bf2264.js"),["assets/AddOrEdit-e6bf2264.js","assets/index-13b290a7.js","assets/index-b206f97b.css"]))},{to:"/metas/add",component:n(()=>o(()=>import("./AddOrEdit-1124188f.js"),["assets/AddOrEdit-1124188f.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/FolderTree-6f54b0b0.js","assets/index-c1c6ff9d.js"]))},{to:"/metas/edit/:id",component:n(()=>o(()=>import("./AddOrEdit-1124188f.js"),["assets/AddOrEdit-1124188f.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/FolderTree-6f54b0b0.js","assets/index-c1c6ff9d.js"]))},{to:"/permissions/add",component:n(()=>o(()=>import("./AddOrEdit-6d416fd2.js"),["assets/AddOrEdit-6d416fd2.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/index-c1c6ff9d.js"]))},{to:"/permissions/config/edit/:id",component:n(()=>o(()=>import("./PermissionForm-4251595a.js"),["assets/PermissionForm-4251595a.js","assets/index-13b290a7.js","assets/index-b206f97b.css"]))},{to:"/permissions/config/add",component:n(()=>o(()=>import("./PermissionForm-4251595a.js"),["assets/PermissionForm-4251595a.js","assets/index-13b290a7.js","assets/index-b206f97b.css"]))},{to:"/permissions/edit/:id",component:n(()=>o(()=>import("./AddOrEdit-6d416fd2.js"),["assets/AddOrEdit-6d416fd2.js","assets/index-13b290a7.js","assets/index-b206f97b.css","assets/index-c1c6ff9d.js"]))},{to:"/2fa",component:n(()=>o(()=>import("./2fa-46b8256b.js"),["assets/2fa-46b8256b.js","assets/index-13b290a7.js","assets/index-b206f97b.css"]))},{to:"/messenger",component:n(()=>o(()=>import("./Messenger-b99aa3a0.js"),["assets/Messenger-b99aa3a0.js","assets/index-13b290a7.js","assets/index-b206f97b.css"]))}],Ge=e=>(Ce(e.title),t(T,{h:"$full",get children(){return t(E,{get children(){return e.title}})}})),N=(e,r=[])=>(e.forEach(i=>{i.children?N(i.children,r):r.push({to:Pe(i.to,"/@manage"),component:i.component||(()=>t(Ge,{get title(){return i.title},get to(){return i.to||"empty"}}))})}),r),et=N(b).concat(Ze),tt=()=>{const e=h();return Se(()=>e("manage.title")),t(d,{css:{"--hope-colors-background":"var(--hope-colors-loContrast)"},bgColor:"$background",w:"$full",get children(){return[t(Ke,{}),t(L,{w:"$full",h:"calc(100vh - 64px)",get children(){return[t(d,{display:{"@initial":"none","@sm":"block"},w:"$56",h:"$full",shadow:"$md",get bgColor(){return B("$background","$neutral2")()},overflowY:"auto",get children(){return[t($,{items:b}),t(T,{get children(){return t(g,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[t(k,{}),t(x,{})]}})}})]}}),t(d,{w:{"@initial":"$full","@sm":"calc(100% - 14rem)"},p:"$4",overflowY:"auto",get children(){return t(Oe,{get children(){return t(S,{each:et,children:r=>t(we,{get path(){return r.to},get component(){return r.component}})})}})}})]}})]}})},at=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"}));export{Ue as F,c as G,at as i};
