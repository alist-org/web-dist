import{b as p,x as g,b0 as u,az as y}from"./index-13b290a7.js";import{n as $}from"./storage-class-1ac53f89.js";import{b as h}from"./useTitle-efd03a2a.js";import{T as N}from"./Tasks-955b8122.js";import"./Paginator-6b8b297f.js";import"./index-c1c6ff9d.js";const c=y("<p></p>"),l=new WeakMap,f=e=>e.trim().replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/[^a-zA-Z0-9]+/g,"_").replace(/_{2,}/g,"_").replace(/^_+|_+$/g,"").toLowerCase(),b=e=>{const n=e.split(/[;,\n]/).map(i=>i.trim()).filter(Boolean);if(!n.length)return;const s={};for(const i of n){const t=i.search(/[:=]/);if(t===-1)continue;const r=i.slice(0,t).trim(),a=i.slice(t+1).trim();r&&(s[r]=a)}return Object.keys(s).length?s:void 0},o=e=>{if(!e||!e.status)return;if(l.has(e))return l.get(e);let n;try{const s=JSON.parse(e.status);s&&typeof s=="object"&&!Array.isArray(s)&&(n=s)}catch{}return n||(n=b(e.status)),l.set(e,n),n},d=(e,n)=>{if(!e)return;const s=n.filter(i=>!!i).map(i=>f(i));if(s.length){for(const[i,t]of Object.entries(e))if(s.includes(f(i)))return t}},z=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const n=e.trim();if(!n)return;const s=Number(n);return Number.isNaN(s)?void 0:s}},C=e=>{if(e!=null)return(()=>{const n=c.cloneNode(!0);return u(n,()=>String(e)),n})()},m=e=>{const n=z(e);if(n!==void 0)return(()=>{const s=c.cloneNode(!0);return u(s,n),s})()},L=()=>{const e=p();h("manage.sidemenu.s3_transition");const n=t=>{const r=f(t);return(()=>{const a=c.cloneNode(!0);return u(a,()=>e(`tasks.s3_transition_actions.${r}`,void 0,t)),a})()},s=t=>{if(typeof t!="string"||!t.trim())return;const r=$(t);return(()=>{const a=c.cloneNode(!0);return u(a,()=>r?e(`home.storage_class.${r}`,void 0,t):t),a})()},i=t=>{if(typeof t!="string"||!t.trim())return;const r=t.toLowerCase().replace(/\s+/g,"_");return(()=>{const a=c.cloneNode(!0);return u(a,()=>e(`home.toolbar.s3_transition.tier.${r}`,void 0,t)),a})()};return g(N,{type:"s3_transition",canRetry:!0,get nameAnalyzer(){return{regex:/^s3\s+(archive|restore)\s+(.+)$/i,title:t=>t[2],attrs:{[e("tasks.attr.s3_transition.action")]:t=>n(t[1]),[e("tasks.attr.s3_transition.path")]:t=>(()=>{const r=c.cloneNode(!0);return u(r,()=>t[2]),r})(),[e("tasks.attr.s3_transition.storage_class")]:(t,r)=>s(d(o(r),["storage_class","destination_storage_class","target_storage_class"])),[e("tasks.attr.s3_transition.transition_days")]:(t,r)=>m(d(o(r),[t[1].toLowerCase()==="archive"?"days":void 0,"transition_days"])),[e("tasks.attr.s3_transition.restore_days")]:(t,r)=>t[1].toLowerCase()==="restore"?m(d(o(r),["restore_days","days"])):void 0,[e("tasks.attr.s3_transition.restore_tier")]:(t,r)=>t[1].toLowerCase()==="restore"?i(d(o(r),["tier","restore_tier"])):void 0,[e("tasks.attr.s3_transition.message")]:(t,r)=>C(d(o(r),["message","reason","detail","details"]))},statusText:t=>{const r=o(t),a=d(r,["status","state","phase","s3_status"]);if(a!=null){if(typeof a=="string"){const _=f(a);return e(`tasks.s3_transition_status.${_}`,void 0,a)}return String(a)}}}}})};export{L as default};
