import{u as P,a as V,_ as Ie,g as Zt,b as gt,o as x,p as Z,O,S as C,h as kt,c as Tn,n as L,d as S,s as me,l as Yt,e as N,f as n,M as X,i as ne,j as re,k as oe,m as k,I as Le,T as at,F as en,q as he,B as A,r as J,V as te,t as pe,v as _e,w as de,x as Te,y as An,z as Pn,A as Fn,C as ft,L as tn,D as Rn,E as jn,G as Dn,H as ve,J as Ae,K as Pe,N as qe,P as nn,Q as mt,R as pt,U as Ve,W as vt,X as G,Y as In,Z as Ln,$ as Fe,a0 as Vn,a1 as Bn,a2 as H,a3 as zn,a4 as Be,a5 as ze,a6 as wt,a7 as Hn,a8 as Me,a9 as Je,aa as bt,ab as ue,ac as rn,ad as Nn,ae as yt,af as Un,ag as Wn,ah as v,ai as _t,aj as He,ak as Qe,al as on,am as ae,an as qn,ao as Kn,ap as Gn,aq as we,ar as an,as as Xn,at as T,au as E,av as sn,aw as ln,ax as Jn,ay as Qn,az as Zn,aA as Mt,aB as cn,aC as Yn,aD as er,aE as tr,aF as nr,aG as rr,aH as or,aI as Ot,aJ as ar,aK as ir,aL as sr,aM as lr,aN as U,aO as cr,aP as Ne,aQ as ur,aR as dr,aS as hr,aT as gr,aU as fr,aV as mr,aW as pr,aX as vr,aY as wr,aZ as br,a_ as yr,a$ as _r,b0 as $r,b1 as Cr,b2 as Sr}from"./index.91ca9f2f.js";import{u as xr,B as un,a as dn,b as kr,c as Mr}from"./index.77b47590.js";import{M as hn}from"./Markdown.ad0cfa53.js";import{f as Or,a as gn,b as Er,c as Tr,d as Ar,e as Pr,g as Fr,h as Rr,i as jr,j as Dr,k as Ir,l as Lr,o as Vr}from"./api.6d6ec51f.js";import{u as Br,g as zr,a as Hr,b as Nr}from"./useUtil.d71a1f59.js";import{A as Ur,F as fn,C as Wr,a as qr,B as Kr,b as Gr,T as Xr,c as Et}from"./index.e655c0e4.js";import{R as Jr}from"./index.5cb3c9e9.js";import{M as $t}from"./FolderTree.9ddab111.js";const Qr=(e,...t)=>{},it=new Map,Zr=(e,t)=>{it.set(e,t)},mn=e=>{window.scroll({top:it.get(e)||0,behavior:"smooth"}),Qr("recoverScroll",e,it.get(e))};let Re;function Yr(e,t,r="replaceState"){let o=r==="location"?location.href:location.hash;if(!o.includes("?"))o=`${o}?${e}=${t}`;else if(!o.includes(e))o=`${o}&${e}=${t}`;else{const a=`(\\?|&|#)${e}([^&|^#]*)(&|$|#)`;o=o.replace(new RegExp(a),"$1"+e+"="+t+"$3")}r==="location"&&(location.href=o),r==="pushState"&&history.pushState({},"",o),r==="replaceState"&&history.replaceState({},"",o)}function Tt(e){for(var t=window.location.search.substring(1),r=t.split("&"),o=0;o<r.length;o++){var a=r[o].split("=");if(a[0]==e)return a[1]}return""}const Ze={};let q=1;const mi=()=>q,eo=()=>{const e=Zt();q=1,e.type==="pagination"&&Yr("page",1),console.log("resetGlobalPage",q)},B=()=>{const{pathname:e}=P(),[,t]=V(u=>Or(u,Ie())),r=Zt();r.type==="pagination"&&Tt("page")&&(q=parseInt(Tt("page")));const[,o]=V(u=>{const g={index:u==null?void 0:u.index,size:u==null?void 0:u.size};return gn(u==null?void 0:u.path,Ie(),g.index,g.size,u==null?void 0:u.force,new gt.CancelToken(function(w){Re=w}))}),a=(u,g=!0,f=!1)=>{f&&(u=Z(e(),u)),g?Ze[u]=!0:delete Ze[u]};let i=!1;const s=(u,g,f)=>{Re==null||Re(),i=g!=null?g:!1,c(""),Ze[u]?d(u,q,void 0,void 0,f):l(u)},l=async u=>{O.setState(C.FetchingObj);const g=await t(u);kt(g,f=>{var w;O.setObj(f),O.setProvider(f.provider),f.is_dir?(a(u),d(u,q)):(O.setReadme(f.readme),O.setRelated((w=f.related)!=null?w:[]),O.setRawUrl(f.raw_url),O.setState(C.File))},c)},d=async(u,g,f,w=!1,p)=>{f||(f=r.size),f!==void 0&&r.type==="all"&&(f=void 0),q=g!=null?g:1,O.setState(w?C.FetchingMore:C.FetchingObjs);const b=await o({path:u,index:g,size:f,force:p});kt(b,y=>{var M;w?Tn(y.content):(O.setObjs((M=y.content)!=null?M:[]),O.setTotal(y.total)),O.setReadme(y.readme),O.setWrite(y.write),O.setProvider(y.provider),O.setState(C.Folder),w&&(g!=null?g:1)>1||mn(u)},c)},c=(u,g)=>{g===403?(O.setState(C.NeedPassword),i&&L.error(u)):O.setErr(u)},h=(u,g,f=!1)=>{d(e(),u,g,f)};return{handlePathChange:s,setPathAs:a,refresh:(u,g)=>{s(e(),u,g)},pageChange:h,loadMore:()=>{h(q+1,void 0,!0)},allLoaded:()=>q>=Math.ceil(x.total/r.size)}};function je(e){return e==null||e===""}function to(e){return e==null}async function no(e,t){let r="/downloads/alist";const o=await gt.post(e,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.getGlobalOption",params:["token:"+t]});return console.log(o),o.status===200&&(je(o.data.result.dir)||(r=o.data.result.dir),r=r.endsWith("/")?r.slice(0,-1):r),r}const ro=()=>{const{rawLinks:e}=Br(),t=S(),{pathname:r}=P();return{batchDownloadSelected:()=>{e(!0).forEach(a=>{window.open(a,"_blank")})},sendToAria2:async()=>{const o=me(),a=async(l,d)=>{var c;if(d.is_dir){const h=await gn(Z(r(),l,d.name),Ie());if(h.code!==200)return h.message;const u=[];for(const g of(c=h.data.content)!=null?c:[]){const f=await a(Z(l,d.name),g);if(typeof f=="string")return f;u.push(...f)}return u}else return[{path:Z(l,d.name),dir:l,url:zr(Z(r(),l),d,"direct",!0),name:d.name}]},{aria2_rpc_url:i,aria2_rpc_secret:s}=Yt;if(!i){L.warning(t("home.toolbar.aria2_not_set"));return}try{let l="/downloads/alist";l=await no(i,s);let d=!1;L.info(`${t("home.package_download.fetching_struct")}`);for(const c of o){const h=await a("",c);if(typeof h!="object"||h.length===void 0)return L.error(`${t("home.package_download.fetching_struct_failed")}: ${h}`),h;for(let u=0;u<h.length;u++){if(je(h[u].path)||to(h[u].dir)||je(h[u].url)||je(h[u].name)){L.error(`${t("home.package_download.fetching_struct_failed")}: ${JSON.stringify(h[u])}`);continue}d||(d=!0,L.info(`${t("home.package_download.downloading")}`));const g=await gt.post(i,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+s,[h[u].url],{out:h[u].name,dir:l+h[u].dir,"check-certificate":"false"}]});console.log(g)}}L.success(t("home.toolbar.send_aria2_success"))}catch(l){console.error(l),L.error(`failed to send to aria2: ${l}`)}}}},Ke=e=>{var i;const[t,r]=N((i=e.defaultValue)!=null?i:""),o=S(),a=()=>{var s;if(!t()){L.warning(o("global.empty_input"));return}(s=e.onSubmit)==null||s.call(e,t()),r("")};return n(J,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[n(X,{}),n(ne,{get children(){return[n(re,{get children(){return o(e.title)}}),n(oe,{get children(){return[n(k,{get when(){return e.topSlot},get children(){return e.topSlot}}),n(k,{get when(){return e.type==="text"},get fallback(){return n(Le,{id:"modal-input",get type(){return e.type},get value(){return t()},onInput:s=>{r(s.currentTarget.value)},onKeyDown:s=>{s.key==="Enter"&&a()}})},get children(){return n(at,{id:"modal-input",get value(){return t()},onInput:s=>{r(s.currentTarget.value)}})}}),n(k,{get when(){return e.tips},get children(){return n(en,{get children(){return e.tips}})}})]}}),n(he,{display:"flex",gap:"$2",get children(){return[n(A,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return o("global.cancel")}}),n(A,{get loading(){return e.loading},onClick:()=>a(),get children(){return o("global.ok")}})]}})]}})]}})},oo=_e("<div></div>"),ao=e=>{var l,d;const[t,r]=N((l=e.defaultValue1)!=null?l:""),[o,a]=N((d=e.defaultValue2)!=null?d:""),i=S(),s=()=>{var c;if(!t()||!o()){L.warning(i("global.empty_input"));return}(c=e.onSubmit)==null||c.call(e,t(),o())};return n(J,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input1",get children(){return[n(X,{}),n(ne,{get children(){return[n(re,{get children(){return i(e.title)}}),n(oe,{get children(){return[n(k,{get when(){return e.topSlot},get children(){return e.topSlot}}),n(k,{get when(){return e.type==="text"},get fallback(){return n(te,{spacing:"$2",get children(){return[n(Le,{id:"modal-input1",get type(){return e.type},get value(){return t()},onInput:c=>{r(c.currentTarget.value)},onKeyDown:c=>{c.key==="Enter"&&s()}}),n(Le,{id:"modal-input2",get type(){return e.type},get value(){return o()},onInput:c=>{a(c.currentTarget.value)},onKeyDown:c=>{c.key==="Enter"&&s()}})]}})},get children(){const c=oo.cloneNode(!0);return pe(c,n(at,{id:"modal-input1",get value(){return t()},onInput:h=>{r(h.currentTarget.value)}}),null),pe(c,n(at,{id:"modal-input2",get value(){return o()},onInput:h=>{a(h.currentTarget.value)}}),null),c}}),n(k,{get when(){return e.tips},get children(){return n(en,{get children(){return e.tips}})}})]}}),n(he,{display:"flex",gap:"$2",get children(){return[n(A,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return i("global.cancel")}}),n(A,{get loading(){return e.loading},onClick:()=>s(),get disabled(){return!t()||!o()},get children(){return i("global.ok")}})]}})]}})]}})},io=()=>{const{pathname:e}=P(),t=de(()=>["",...e().split("/").filter(Boolean)]),r=S(),{setPathAs:o}=B();return n(Dn,{class:"nav",w:"$full",get children(){return n(Te,{get each(){return t()},children:(a,i)=>{const s=de(()=>i()===t().length-1),l=t().slice(0,i()+1).join("/"),d=An(l);let c=()=>a;return c()===""&&(c=()=>ve("home_icon")+r("manage.sidemenu.home")),n(Pn,{class:"nav-item",get children(){return[n(Fn,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{bgColor:ft(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return s()},get as(){return s()?void 0:tn},get href(){return Rn(d)},onMouseEnter:()=>o(l),children:c}),n(k,{get when(){return!s()},get children(){return n(jn,{class:"nav-separator"})}})]}})}})}})},so=Ae(()=>Pe(()=>import("./Folder.323aa745.js").then(e=>e.F),["assets/Folder.323aa745.js","assets/Folder.b511ba9e.css","assets/index.91ca9f2f.js","assets/index.15d8d646.css","assets/useUtil.d71a1f59.js","assets/api.6d6ec51f.js","assets/Paginator.d16a94a2.js","assets/index.e655c0e4.js","assets/icon.6ef2cb26.js","assets/index.77b47590.js"])),lo=Ae(()=>Pe(()=>import("./File.b7f154c2.js").then(e=>e.a),["assets/File.b7f154c2.js","assets/index.91ca9f2f.js","assets/index.15d8d646.css","assets/useUtil.d71a1f59.js","assets/api.6d6ec51f.js","assets/icon.6ef2cb26.js","assets/index.77b47590.js","assets/index.e655c0e4.js"])),co=Ae(()=>Pe(()=>import("./Password.be5d794b.js"),["assets/Password.be5d794b.js","assets/index.91ca9f2f.js","assets/index.15d8d646.css","assets/index.e655c0e4.js","assets/index.77b47590.js","assets/Markdown.ad0cfa53.js","assets/api.6d6ec51f.js","assets/useUtil.d71a1f59.js","assets/index.5cb3c9e9.js","assets/FolderTree.9ddab111.js"]));let At=!0;const uo=()=>{const e=qe("white","$neutral3"),{pathname:t}=P(),{handlePathChange:r}=B();let o=t();return nn(mt(t,a=>{xr(),At||eo(),At=!1,Zr(o,window.scrollY),r(a),o=a})),n(te,{class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return e()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return n(pt,{get fallback(){return n(Ve,{})},get children(){return n(vt,{get children(){return[n(G,{get when(){return x.err},get children(){return n(In,{get msg(){return x.err},disableColor:!0})}}),n(G,{get when(){return[C.FetchingObj,C.FetchingObjs].includes(x.state)},get children(){return n(Ve,{})}}),n(G,{get when(){return x.state===C.NeedPassword},get children(){return n(co,{})}}),n(G,{get when(){return[C.Folder,C.FetchingMore].includes(x.state)},get children(){return n(so,{})}}),n(G,{get when(){return x.state===C.File},get children(){return n(lo,{})}})]}})}})}})},ho=()=>{const e=qe("white","$neutral3"),{proxyLink:t}=Hr(),{pathname:r}=P(),o=de(mt(()=>x.state,()=>{if(![C.FetchingMore,C.Folder,C.File].includes(x.state))return"";if(x.readme)return x.readme;if([C.FetchingMore,C.Folder].includes(x.state)){const s=x.objs.find(l=>l.name.toLowerCase()==="readme.md");if(s)return t(s,!0)}return""})),a=async s=>{let l={content:s};return/^https?:\/\//g.test(s)&&(l=await Er(s)),setTimeout(()=>{mn(r())}),l},[i]=Ln(o,a);return n(k,{get when(){return o()},get children(){return n(Fe,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return e()},shadow:"$lg",get children(){return n(Vn,{get loading(){return i.loading},get children(){return n(hn,{get children(){var s;return(s=i())==null?void 0:s.content}})}})}})}})},pn=e=>{const t=ve("home_container");return n(vt,{get fallback(){return n(Fe,{w:"min(99%, 980px)",get children(){return e.children}})},get children(){return n(G,{when:t==="hope_container",get children(){return n(Bn,{get children(){return e.children}})}})}})},go=()=>n(pn,{get children(){return n(te,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[n(io,{}),n(uo,{}),n(ho,{})]}})}}),fo=_e("<span>|</span>"),mo=()=>{const e=S();return n(te,{class:"footer",w:"$full",py:"$4",get children(){return n(H,{spacing:"$1",get children(){return[n(zn,{href:"https://github.com/Xhofe/alist",external:!0,get children(){return e("home.footer.powered_by")}}),fo.cloneNode(!0),n(Ur,{as:tn,get href(){return Be.is_guest(ze())?"/@login":"/@manage"},get children(){return e(Be.is_guest(ze())?"login.login":"home.footer.manage")}})]}})}})},Pt={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},$e="^\\s*",Ce="\\s*$",se="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",le="([0-9A-Fa-f])",ce="([0-9A-Fa-f]{2})",po=new RegExp(`${$e}rgb\\s*\\(${se},${se},${se}\\)${Ce}`),vo=new RegExp(`${$e}rgba\\s*\\(${se},${se},${se},${se}\\)${Ce}`),wo=new RegExp(`${$e}#${le}${le}${le}${Ce}`),bo=new RegExp(`${$e}#${ce}${ce}${ce}${Ce}`),yo=new RegExp(`${$e}#${le}${le}${le}${le}${Ce}`),_o=new RegExp(`${$e}#${ce}${ce}${ce}${ce}${Ce}`);function F(e){return parseInt(e,16)}function vn(e){try{let t;if(t=bo.exec(e))return[F(t[1]),F(t[2]),F(t[3]),1];if(t=po.exec(e))return[K(t[1]),K(t[5]),K(t[9]),1];if(t=vo.exec(e))return[K(t[1]),K(t[5]),K(t[9]),Ye(t[13])];if(t=wo.exec(e))return[F(t[1]+t[1]),F(t[2]+t[2]),F(t[3]+t[3]),1];if(t=_o.exec(e))return[F(t[1]),F(t[2]),F(t[3]),Ye(F(t[4])/255)];if(t=yo.exec(e))return[F(t[1]+t[1]),F(t[2]+t[2]),F(t[3]+t[3]),Ye(F(t[4]+t[4])/255)];if(e in Pt)return vn(Pt[e]);throw new Error(`[seemly/rgba]: Invalid color value ${e}.`)}catch(t){throw t}}function $o(e){return e>1?1:e<0?0:e}function Ft(e,t,r,o){return`rgba(${K(e)}, ${K(t)}, ${K(r)}, ${$o(o)})`}function Rt(e,t){const[r,o,a,i=1]=Array.isArray(e)?e:vn(e);return t.alpha?Ft(r,o,a,t.alpha):Ft(r,o,a,i)}function Ye(e){const t=Math.round(Number(e)*100)/100;return t>1?1:t<0?0:t}function K(e){const t=Math.round(Number(e));return t>255?255:t<0?0:t}const Co={list:fn,grid:un,image:dn},So=()=>{const e=S();return n(yt,{get children(){return[n(wt,{as:Hn,get color(){return Me()},get bgColor(){return Rt(Me(),{alpha:.15})},get _hover(){return{bgColor:Rt(Me(),{alpha:.2})}},"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return n(vt,{get children(){return[n(G,{get when(){return Je()==="list"},get children(){return n(fn,{})}}),n(G,{get when(){return Je()==="grid"},get children(){return n(un,{})}}),n(G,{get when(){return Je()==="image"},get children(){return n(dn,{})}})]}})}}),n(bt,{get children(){return n(Te,{get each(){return Object.entries(Co)},children:t=>n(ue,{get icon(){return n(rn,{get component(){return t[1]}})},onSelect:()=>{Nn(t[0])},get children(){return e(`home.layouts.${t[0]}`)}})})}})]}})},Ge=typeof window<"u"?window.navigator.userAgent:"";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Ge);/^((?!chrome|android).)*safari/i.test(Ge);/MicroMessenger/i.test(Ge);/MSIE|Trident/i.test(Ge);var Xt,Jt,Qt;const xo=(Qt=(Jt=(Xt=window==null?void 0:window.navigator)==null?void 0:Xt.platform)!=null?Jt:"")==null?void 0:Qt.includes("Mac"),ko=()=>{const e=ve("logo").split(`
`),t=qe(e[0],e.pop());return n(on,{class:"header",w:"$full",get children(){return n(pn,{get children(){return n(H,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[n(H,{class:"header-left",h:"44px",get children(){return n(Un,{get src(){return t()},h:"$full",w:"auto",get fallback(){return n(Wn,{})}})}}),n(H,{class:"header-right",spacing:"$2",get children(){return n(k,{get when(){return x.state===C.Folder},get children(){return[n(k,{get when(){return ve("search_index")!=="none"},get children(){return n(H,{bg:"$neutral4",w:"$32",p:"$2",rounded:"$md",justifyContent:"space-between",border:"2px solid transparent",cursor:"pointer",_hover:{borderColor:"$info6"},onClick:()=>{v.emit("tool","search")},get children(){return[n(_t,{as:kr}),n(H,{get children(){return[He(()=>xo?n(Qe,{children:"Cmd"}):n(Qe,{children:"Ctrl"})),n(Qe,{children:"K"})]}})]}})}}),n(So,{})]}})}})]}})}})}})};function Mo(e){return ae({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 11l3 3 8-8"/><path d="M20 12v6a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h9"/>'},e)}function Oo(e){return ae({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><rect width="12" height="12" x="8" y="8" rx="2"/><path d="M16 8V6a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2h2"/>'},e)}function pi(e){return ae({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M11 7H6a2 2 0 00-2 2v9a2 2 0 002 2h9a2 2 0 002-2v-5M10 14L20 4M15 4h5v5"/>'},e)}function Eo(e){return ae({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM9 15h6"/><path d="M12.5 17.5L15 15l-2.5-2.5"/>'},e)}function To(e){return ae({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5 0 005 0l4-4a3.5 3.5 0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5 0 00-5 0l-4 4a3.5 3.5 0 005 5l.5-.5"/>'},e)}function Ao(e){return ae({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M11 8v6h1V8h2.5l-3-3-3 3zM1 3h1.5v1H1V3zM3 3h1.5v1H3V3zM5 3h1v1.5H5V3zM1 6.5h1V8H1V6.5zM2.5 7H4v1H2.5V7zM4.5 7H6v1H4.5V7zM1 4.5h1V6H1V4.5zM5 5h1v1.5H5V5zM5 11v3H2v-3h3zm1-1H1v5h5v-5z"/>'},e)}function vi(e){return ae({a:{viewBox:"0 0 16 16"},c:'<path fill="currentColor" d="M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"/>'},e)}function Po(e){return ae({a:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},c:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>'},e)}const Q={rename:{icon:Wr,color:"$accent9"},copy:{icon:Oo,color:"$success9"},move:{icon:Eo,color:"$warning9"},delete:{icon:qn,color:"$danger9"},copy_link:{icon:To,color:"$info9"},mkdir:{icon:qr,p:!0},recursive_move:{icon:Ao,p:!0},remove_empty_directory:{icon:Po,p:!0},regex_rename:{icon:Kr,p:!0},new_file:{icon:Gr,p:!0},cancel_select:{icon:Xr},download:{icon:Kn,color:"$primary9"}},Ue=e=>{const t=Gn.findIndex(o=>o===e.name);if(t!==-1&&!Be.can(ze(),t))return null;const r=S();return n(an,{placement:"top",withArrow:!0,get label(){return r(`home.toolbar.${e.name}`)},get children(){return n(_t,we({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:ft()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$7",rounded:"$md",get p(){var o;return(o=Q[e.name])!=null&&o.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){var o;return(o=Q[e.name])==null?void 0:o.icon},get color(){var o;return(o=Q[e.name])==null?void 0:o.color}},e))}})},I=e=>{const t=S();return n(an,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return t(`home.toolbar.${e.tips}`)},get children(){return n(_t,we({get color(){return Me()},get _hover(){return{bgColor:Me(),color:"white"}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},Fo=()=>{const e=S(),{copySelectedPreviewPage:t,copySelectedRawLink:r}=Nr(),o="neutral";return n(yt,{placement:"top",offset:10,get children(){return[n(wt,{as:Ue,name:"copy_link"}),n(bt,{get children(){return[n(ue,{colorScheme:o,onSelect:()=>{t()},get children(){return e("home.toolbar.preview_page")}}),n(ue,{colorScheme:o,onSelect:()=>{r()},get children(){return e("home.toolbar.down_link")}}),n(ue,{colorScheme:o,onSelect:()=>{r(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})},Ro=_e("<p></p>"),jo=()=>{const e=S(),t="neutral",{batchDownloadSelected:r,sendToAria2:o}=ro();return n(yt,{placement:"top",offset:10,get children(){return[n(wt,{as:Ue,name:"download"}),n(bt,{get children(){return[n(ue,{colorScheme:t,onSelect:r,get children(){return e("home.toolbar.batch_download")}}),n(k,{get when(){return Be.is_admin(ze())||Xn("package_download")},get children(){return n(ue,{colorScheme:t,onSelect:()=>{v.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}})}}),n(ue,{colorScheme:t,onSelect:o,get children(){return e("home.toolbar.send_aria2")}})]}})]}})},Do=Ae(()=>Pe(()=>import("./PackageDownload.c54f8936.js"),["assets/PackageDownload.c54f8936.js","assets/index.91ca9f2f.js","assets/index.15d8d646.css","assets/api.6d6ec51f.js","assets/useUtil.d71a1f59.js"])),Io=()=>{const e=S(),t=l=>{l==="package_download"&&o()};v.on("tool",t),T(()=>{v.off("tool",t)});const{isOpen:r,onOpen:o,onClose:a}=E(),[i,s]=N("pre_tips");return n(J,{blockScrollOnMount:!1,get opened(){return r()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[n(X,{}),n(ne,{get children(){return[n(re,{get children(){return e("home.toolbar.package_download")}}),n(pt,{get fallback(){return n(Ve,{})},get children(){return n(k,{get when(){return i()==="pre_tips"},get fallback(){return n(Do,{onClose:a})},get children(){return[n(oe,{get children(){const l=Ro.cloneNode(!0);return pe(l,()=>e("home.toolbar.pre_package_download-tips")),l}}),n(he,{display:"flex",gap:"$2",get children(){return[n(A,{onClick:a,colorScheme:"neutral",get children(){return e("global.cancel")}}),n(A,{colorScheme:"info",onClick:()=>{s("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})};function wn(e,t){e.indexOf(t)===-1&&e.push(t)}function Lo(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const bn=(e,t,r)=>Math.min(Math.max(r,e),t),z={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Oe=e=>typeof e=="number",fe=e=>Array.isArray(e)&&!Oe(e[0]),Vo=(e,t,r)=>{const o=t-e;return((r-e)%o+o)%o+e};function Bo(e,t){return fe(e)?e[Vo(0,e.length,t)]:e}const yn=(e,t,r)=>-r*e+r*t+e,_n=()=>{},Y=e=>e,Ct=(e,t,r)=>t-e===0?1:(r-e)/(t-e);function $n(e,t){const r=e[e.length-1];for(let o=1;o<=t;o++){const a=Ct(0,t,o);e.push(yn(r,1,a))}}function zo(e){const t=[0];return $n(t,e-1),t}function Ho(e,t=zo(e.length),r=Y){const o=e.length,a=o-t.length;return a>0&&$n(t,a),i=>{let s=0;for(;s<o-2&&!(i<t[s+1]);s++);let l=bn(0,1,Ct(t[s],t[s+1],i));return l=Bo(r,s)(l),yn(e[s],e[s+1],l)}}const Cn=e=>Array.isArray(e)&&Oe(e[0]),st=e=>typeof e=="object"&&Boolean(e.createAnimation),Ee=e=>typeof e=="function",No=e=>typeof e=="string",et={ms:e=>e*1e3,s:e=>e/1e3},Sn=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Uo=1e-7,Wo=12;function qo(e,t,r,o,a){let i,s,l=0;do s=t+(r-t)/2,i=Sn(s,o,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Uo&&++l<Wo);return s}function xe(e,t,r,o){if(e===t&&r===o)return Y;const a=i=>qo(i,0,1,e,r);return i=>i===0||i===1?i:Sn(a(i),t,o)}const Ko=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const o=r*e,a=t==="end"?Math.floor(o):Math.ceil(o);return bn(0,1,a/e)},jt={ease:xe(.25,.1,.25,1),"ease-in":xe(.42,0,1,1),"ease-in-out":xe(.42,0,.58,1),"ease-out":xe(0,0,.58,1)},Go=/\((.*?)\)/;function Dt(e){if(Ee(e))return e;if(Cn(e))return xe(...e);if(jt[e])return jt[e];if(e.startsWith("steps")){const t=Go.exec(e);if(t){const r=t[1].split(",");return Ko(parseFloat(r[0]),r[1].trim())}}return Y}class Xo{constructor(t,r=[0,1],{easing:o,duration:a=z.duration,delay:i=z.delay,endDelay:s=z.endDelay,repeat:l=z.repeat,offset:d,direction:c="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=Y,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((u,g)=>{this.resolve=u,this.reject=g}),o=o||z.easing,st(o)){const u=o.createAnimation(r);o=u.easing,r=u.keyframes||r,a=u.duration||a}this.repeat=l,this.easing=fe(o)?Y:Dt(o),this.updateDuration(a);const h=Ho(r,d,fe(o)?o.map(Dt):Y);this.tick=u=>{var g;i=i;let f=0;this.pauseTime!==void 0?f=this.pauseTime:f=(u-this.startTime)*this.rate,this.t=f,f/=1e3,f=Math.max(f-i,0),this.playState==="finished"&&this.pauseTime===void 0&&(f=this.totalDuration);const w=f/this.duration;let p=Math.floor(w),b=w%1;!b&&w>=1&&(b=1),b===1&&p--;const y=p%2;(c==="reverse"||c==="alternate"&&y||c==="alternate-reverse"&&!y)&&(b=1-b);const M=f>=this.totalDuration?1:Math.min(b,1),_=h(this.easing(M));t(_),this.pauseTime===void 0&&(this.playState==="finished"||f>=this.totalDuration+s)?(this.playState="finished",(g=this.resolve)===null||g===void 0||g.call(this,_)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class Jo{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const tt=new WeakMap;function xn(e){return tt.has(e)||tt.set(e,{transforms:[],values:new Map}),tt.get(e)}function Qo(e,t){return e.has(t)||e.set(t,new Jo),e.get(t)}const Zo=["","X","Y","Z"],Yo=["translate","scale","rotate","skew"],be={x:"translateX",y:"translateY",z:"translateZ"},It={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},ea={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:It,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:Y},skew:It},ye=new Map,Xe=e=>`--motion-${e}`,We=["x","y","z"];Yo.forEach(e=>{Zo.forEach(t=>{We.push(e+t),ye.set(Xe(e+t),ea[e])})});const ta=(e,t)=>We.indexOf(e)-We.indexOf(t),na=new Set(We),St=e=>na.has(e),ra=(e,t)=>{be[t]&&(t=be[t]);const{transforms:r}=xn(e);wn(r,t),e.style.transform=kn(r)},kn=e=>e.sort(ta).reduce(oa,"").trim(),oa=(e,t)=>`${e} ${t}(var(${Xe(t)}))`,lt=e=>e.startsWith("--"),Lt=new Set;function aa(e){if(!Lt.has(e)){Lt.add(e);try{const{syntax:t,initialValue:r}=ye.has(e)?ye.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:r})}catch{}}}const nt=(e,t)=>document.createElement("div").animate(e,t),Vt={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{nt({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(nt({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{nt({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},rt={},ge={};for(const e in Vt)ge[e]=()=>(rt[e]===void 0&&(rt[e]=Vt[e]()),rt[e]);const ia=.015,sa=(e,t)=>{let r="";const o=Math.round(t/ia);for(let a=0;a<o;a++)r+=e(Ct(0,o-1,a))+", ";return r.substring(0,r.length-2)},Bt=(e,t)=>Ee(e)?ge.linearEasing()?`linear(${sa(e,t)})`:z.easing:Cn(e)?la(e):e,la=([e,t,r,o])=>`cubic-bezier(${e}, ${t}, ${r}, ${o})`;function ca(e,t){for(let r=0;r<e.length;r++)e[r]===null&&(e[r]=r?e[r-1]:t());return e}const ua=e=>Array.isArray(e)?e:[e];function ct(e){return be[e]&&(e=be[e]),St(e)?Xe(e):e}const ke={get:(e,t)=>{t=ct(t);let r=lt(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!r&&r!==0){const o=ye.get(t);o&&(r=o.initialValue)}return r},set:(e,t,r)=>{t=ct(t),lt(t)?e.style.setProperty(t,r):e.style[t]=r}};function da(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function ha(e,t){var r;let o=(t==null?void 0:t.toDefaultUnit)||Y;const a=e[e.length-1];if(No(a)){const i=((r=a.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";i&&(o=s=>s+i)}return o}function ga(){return window.__MOTION_DEV_TOOLS_RECORD}function fa(e,t,r,o={},a){const i=ga(),s=o.record!==!1&&i;let l,{duration:d=z.duration,delay:c=z.delay,endDelay:h=z.endDelay,repeat:u=z.repeat,easing:g=z.easing,direction:f,offset:w,allowWebkitAcceleration:p=!1}=o;const b=xn(e),y=St(t);let M=ge.waapi();y&&ra(e,t);const _=ct(t),R=Qo(b.values,_),j=ye.get(_);return da(R.animation,!(st(g)&&R.generator)&&o.record!==!1),()=>{const W=()=>{var $,Se;return(Se=($=ke.get(e,_))!==null&&$!==void 0?$:j==null?void 0:j.initialValue)!==null&&Se!==void 0?Se:0};let m=ca(ua(r),W);const D=ha(m,j);if(st(g)){const $=g.createAnimation(m,t!=="opacity",W,_,R);g=$.easing,m=$.keyframes||m,d=$.duration||d}if(lt(_)&&(ge.cssRegisterProperty()?aa(_):M=!1),y&&!ge.linearEasing()&&(Ee(g)||fe(g)&&g.some(Ee))&&(M=!1),M){j&&(m=m.map(ie=>Oe(ie)?j.toDefaultUnit(ie):ie)),m.length===1&&(!ge.partialKeyframes()||s)&&m.unshift(W());const $={delay:et.ms(c),duration:et.ms(d),endDelay:et.ms(h),easing:fe(g)?void 0:Bt(g,d),direction:f,iterations:u+1,fill:"both"};l=e.animate({[_]:m,offset:w,easing:fe(g)?g.map(ie=>Bt(ie,d)):void 0},$),l.finished||(l.finished=new Promise((ie,En)=>{l.onfinish=ie,l.oncancel=En}));const Se=m[m.length-1];l.finished.then(()=>{ke.set(e,_,Se),l.cancel()}).catch(_n),p||(l.playbackRate=1.000001)}else if(a&&y)m=m.map($=>typeof $=="string"?parseFloat($):$),m.length===1&&m.unshift(parseFloat(W())),l=new a($=>{ke.set(e,_,D?D($):$)},m,Object.assign(Object.assign({},o),{duration:d,easing:g}));else{const $=m[m.length-1];ke.set(e,_,j&&Oe($)?j.toDefaultUnit($):$)}return s&&i(e,t,m,{duration:d,delay:c,easing:g,repeat:u,offset:w},"motion-one"),R.setAnimation(l),l}}const ma=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function pa(e,t){var r;return typeof e=="string"?t?((r=t[e])!==null&&r!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}function Mn(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r}const va={any:0,all:1};function wa(e,t,{root:r,margin:o,amount:a="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const i=pa(e),s=new WeakMap,l=c=>{c.forEach(h=>{const u=s.get(h.target);if(h.isIntersecting!==Boolean(u))if(h.isIntersecting){const g=t(h);Ee(g)?s.set(h.target,g):d.unobserve(h.target)}else u&&(u(h),s.delete(h.target))})},d=new IntersectionObserver(l,{root:r,rootMargin:o,threshold:typeof a=="number"?a:va[a]});return i.forEach(c=>d.observe(c)),()=>d.disconnect()}function ba(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!ya(e,t):e!==t}function ya(e,t){const r=t.length;if(r!==e.length)return!1;for(let o=0;o<r;o++)if(t[o]!==e[o])return!1;return!0}function _a(e){return typeof e=="object"}function zt(e,t){if(_a(e))return e;if(e&&t)return t[e]}let ee;function $a(){if(!ee)return;const e=ee.sort(Sa).map(xa);e.forEach(Ht),e.forEach(Ht),ee=void 0}function ot(e){ee?wn(ee,e):(ee=[e],requestAnimationFrame($a))}function Ca(e){ee&&Lo(ee,e)}const Sa=(e,t)=>e.getDepth()-t.getDepth(),xa=e=>e.animateUpdates(),Ht=e=>e.next(),Nt=(e,t)=>new CustomEvent(e,{detail:{target:t}});function ut(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:r}}))}function Ut(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:r}}))}const ka={isActive:e=>Boolean(e.inView),subscribe:(e,{enable:t,disable:r},{inViewOptions:o={}})=>{const{once:a}=o,i=Mn(o,["once"]);return wa(e,s=>{if(t(),Ut(e,"viewenter",s),!a)return l=>{r(),Ut(e,"viewleave",l)}},i)}},Wt=(e,t,r)=>o=>{o.pointerType&&o.pointerType!=="mouse"||(r(),ut(e,t,o))},Ma={isActive:e=>Boolean(e.hover),subscribe:(e,{enable:t,disable:r})=>{const o=Wt(e,"hoverstart",t),a=Wt(e,"hoverend",r);return e.addEventListener("pointerenter",o),e.addEventListener("pointerleave",a),()=>{e.removeEventListener("pointerenter",o),e.removeEventListener("pointerleave",a)}}},Oa={isActive:e=>Boolean(e.press),subscribe:(e,{enable:t,disable:r})=>{const o=i=>{r(),ut(e,"pressend",i),window.removeEventListener("pointerup",o)},a=i=>{t(),ut(e,"pressstart",i),window.addEventListener("pointerup",o)};return e.addEventListener("pointerdown",a),()=>{e.removeEventListener("pointerdown",a),window.removeEventListener("pointerup",o)}}},De={inView:ka,hover:Ma,press:Oa},qt=["initial","animate",...Object.keys(De),"exit"],dt=new WeakMap;function Ea(e={},t){let r,o=t?t.getDepth()+1:0;const a={initial:!0,animate:!0},i={},s={};for(const p of qt)s[p]=typeof e[p]=="string"?e[p]:t==null?void 0:t.getContext()[p];const l=e.initial===!1?"animate":"initial";let d=zt(e[l]||s[l],e.variants)||{},c=Mn(d,["transition"]);const h=Object.assign({},c);function*u(){var p,b;const y=c;c={};const M={};for(const m of qt){if(!a[m])continue;const D=zt(e[m]);if(!!D)for(const $ in D)$!=="transition"&&(c[$]=D[$],M[$]=ma((b=(p=D.transition)!==null&&p!==void 0?p:e.transition)!==null&&b!==void 0?b:{},$))}const _=new Set([...Object.keys(c),...Object.keys(y)]),R=[];_.forEach(m=>{var D;c[m]===void 0&&(c[m]=h[m]),ba(y[m],c[m])&&((D=h[m])!==null&&D!==void 0||(h[m]=ke.get(r,m)),R.push(fa(r,m,c[m],M[m],Xo)))}),yield;const j=R.map(m=>m()).filter(Boolean);if(!j.length)return;const W=c;r.dispatchEvent(Nt("motionstart",W)),Promise.all(j.map(m=>m.finished)).then(()=>{r.dispatchEvent(Nt("motioncomplete",W))}).catch(_n)}const g=(p,b)=>()=>{a[p]=b,ot(w)},f=()=>{for(const p in De){const b=De[p].isActive(e),y=i[p];b&&!y?i[p]=De[p].subscribe(r,{enable:g(p,!0),disable:g(p,!1)},e):!b&&y&&(y(),delete i[p])}},w={update:p=>{!r||(e=p,f(),ot(w))},setActive:(p,b)=>{!r||(a[p]=b,ot(w))},animateUpdates:u,getDepth:()=>o,getTarget:()=>c,getOptions:()=>e,getContext:()=>s,mount:p=>(r=p,dt.set(r,w),f(),()=>{dt.delete(r),Ca(w);for(const b in i)i[b]()}),isMounted:()=>Boolean(r)};return w}function Ta(e){const t={},r=[];for(let o in e){const a=e[o];St(o)&&(be[o]&&(o=be[o]),r.push(o),o=Xe(o));let i=Array.isArray(a)?a[0]:a;const s=ye.get(o);s&&(i=Oe(a)?s.toDefaultUnit(a):a),t[o]=i}return r.length&&(t.transform=kn(r)),t}const Aa={initial:()=>!0,addCleanup:T,addMount:ln},ht=sn(),On=sn(Aa);function Pa(e,t,r,o){const{addCleanup:a,addMount:i,initial:s}=r,l=Ea(s()?t():{...t(),initial:!1},o);return i(Jn.bind(void 0,Qn(),()=>{a(l.mount(e())),nn(()=>l.update(t()))})),l}const Fa=/([^:; ]*):\s*([^;]*)/g;function Kt(e){const t={};let r;for(;r=Fa.exec(e);)t[r[1]]=r[2];return t}function Ra(e,t){if(typeof e=="object"&&typeof t=="object")return{...e,...t};if(typeof e=="string"&&typeof t=="string")return`${e};${t}`;const r=typeof e=="object"?e:Kt(e),o=typeof t=="object"?t:Kt(t);return{...r,...o}}const Gt=e=>{const[t,,r]=Zn(e,["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],["tag","ref","style","onMotionStart","onMotionComplete","onHoverStart","onHoverEnd","onPressStart","onPressEnd","onViewEnter","onViewLeave"]),o=Pa(()=>i,()=>({...t}),Mt(On),Mt(ht)),a=Ta(o.getTarget());let i;return n(ht.Provider,{value:o,get children(){return n(rn,we({ref:s=>{var l;i=s,(l=e.ref)==null||l.call(e,s)},get component(){return cn(()=>e.tag||"div")},get style(){return He(()=>!!e.style,!0)()?Ra(e.style,a):a},get["on:motionstart"](){return e.onMotionStart},get["on:motioncomplete"](){return e.onMotionComplete},get["on:hoverstart"](){return e.onHoverStart},get["on:hoverend"](){return e.onHoverEnd},get["on:pressstart"](){return e.onPressStart},get["on:pressend"](){return e.onPressEnd},get["on:viewenter"](){return e.onViewEnter},get["on:viewleave"](){return e.onViewLeave}},r))}})},xt=new Proxy(Gt,{get:(e,t)=>r=>(delete r.tag,n(Gt,we(r,{tag:t})))}),ja=e=>(e=Array.isArray(e)?e[0]:e,e instanceof Element?e:void 0),Da=(e,t)=>{const r={once:!0};e.addEventListener("motioncomplete",t,r),T(e.removeEventListener.bind(e,"motioncomplete",t,r))},Ia=e=>{let{initial:t=!0}=e;ln(()=>t=!0);let r=!1,o=[],a=[],i=[];return T(()=>{i.concat(a).forEach(s=>s()),a=i=o=[]}),n(On.Provider,{value:{addCleanup:s=>a.push(s),addMount:s=>o.push(s),initial:()=>t},get children(){return n(ht.Provider,{value:void 0,get children(){return cn(()=>{const s=Yn(()=>e.children),l=de(()=>ja(s())),[d,c]=N(),[h,u]=N();return er(mt(l,w=>{i.push(...a),a=[],tr(()=>{e.exitBeforeEnter?(c(),f(()=>!r&&g(w))):(g(w),f())})})),[d,h];function g(w){c(w),o.forEach(p=>p()),o=[]}function f(w){var M;const p=()=>{u(),i.forEach(_=>_()),i=[],w==null||w()},b=u((M=d())!=null?M:h());if(!b)return p();const y=dt.get(b);if(!y||!y.getOptions().exit)return p();y.setActive("exit",r=!0),Da(b,()=>{r=!1,p()})}})}})}})},La=()=>{const e=de(()=>[C.Folder,C.FetchingMore].includes(x.state)&&nr()&&rr());return n(Ia,{exitBeforeEnter:!0,get children(){return n(k,{get when(){return e()},get children(){return n(Fe,{class:"center-toolbar",pos:"fixed",bottom:"$4",right:"50%",w:"max-content",color:"$neutral11",get as(){return xt.div},initial:{opacity:0,scale:.9,x:"50% ",y:10},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},get children(){return n(H,{p:"$2",get bgColor(){return qe("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(8px)"},get children(){return[n(Te,{each:["rename","move","copy","delete"],children:t=>n(Ue,{name:t,onClick:()=>{v.emit("tool",t)}})}),n(Fo,{}),n(jo,{}),n(Ue,{name:"cancel_select",onClick:()=>{or(!1)}})]}})}})}})}})},Va=()=>{const{isOpen:e,onToggle:t}=E({defaultIsOpen:localStorage.getItem("more-open")==="true",onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),r=de(()=>e()?"$4":"$5"),o=de(()=>x.state===C.Folder),{refresh:a}=B();return n(Fe,{class:"left-toolbar-box",pos:"fixed",get right(){return r()},get bottom(){return r()},get children(){return n(k,{get when(){return e()},get fallback(){return n(I,{class:"toolbar-toggle",as:Et,onClick:()=>{t()}})},get children(){return n(te,{class:"left-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return xt.div},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{duration:.2},get children(){return[n(te,{spacing:"$1",class:"left-toolbar-in",get children(){return[n(k,{get when(){return He(()=>!!o(),!0)()&&(Ot("write")||x.write)},get children(){return[n(I,{as:Jr,tips:"refresh",onClick:()=>{a(void 0,!0)}}),n(I,{get as(){return Q.new_file.icon},tips:"new_file",onClick:()=>{v.emit("tool","new_file")}}),n(I,{get as(){return Q.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{v.emit("tool","mkdir")}}),n(I,{get as(){return Q.recursive_move.icon},tips:"recursive_move",onClick:()=>{v.emit("tool","recursiveMove")}}),n(I,{get as(){return Q.remove_empty_directory.icon},tips:"remove_empty_directory",onClick:()=>{v.emit("tool","removeEmptyDirectory")}}),n(I,{get as(){return Q.regex_rename.icon},tips:"regex_rename",onClick:()=>{v.emit("tool","regexRename")}}),n(I,{as:ar,tips:"upload",onClick:()=>{v.emit("tool","upload")}})]}}),n(k,{get when(){return He(()=>!!o(),!0)()&&Ot("offline_download")},get children(){return n(I,{as:ir,pl:"0",tips:"offline_download",onClick:()=>{v.emit("tool","offline_download")}})}}),n(I,{tips:"toggle_checkbox",as:Mo,onClick:sr}),n(I,{as:lr,tips:"local_settings",onClick:()=>{v.emit("tool","local_settings")}})]}}),n(I,{tips:"more",as:Et,onClick:t})]}})}})}})},Ba=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),[o,a]=V(Tr),{pathname:i}=P(),{refresh:s}=B(),l=d=>{d==="copy"&&t()};return v.on("tool",l),T(()=>{v.off("tool",l)}),n($t,{get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async d=>{const c=await a(i(),d,me().map(h=>h.name));U(c,()=>{s(),r()})}})},za=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),[o,a]=V(Ar),{pathname:i}=P(),{refresh:s}=B(),l=d=>{d==="move"&&t()};return v.on("tool",l),T(()=>{v.off("tool",l)}),n($t,{get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async d=>{const c=await a(i(),d,me().map(h=>h.name));U(c,()=>{s(),r()})}})},Ha=_e("<p></p>"),Na=()=>{const e=S(),{isOpen:t,onOpen:r,onClose:o}=E(),[a,i]=V(Pr),{refresh:s}=B(),{pathname:l}=P(),d=c=>{c==="delete"&&r()};return v.on("tool",d),T(()=>{v.off("tool",d)}),n(J,{blockScrollOnMount:!1,get opened(){return t()},onClose:o,size:{"@initial":"xs","@md":"md"},get children(){return[n(X,{}),n(ne,{get children(){return[n(re,{get children(){return e("home.toolbar.delete")}}),n(oe,{get children(){const c=Ha.cloneNode(!0);return pe(c,()=>e("home.toolbar.delete-tips")),c}}),n(he,{display:"flex",gap:"$2",get children(){return[n(A,{onClick:o,colorScheme:"neutral",get children(){return e("global.cancel")}}),n(A,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const c=await i(l(),me().map(h=>h.name));U(c,()=>{s(),o()})},get children(){return e("global.confirm")}})]}})]}})]}})},Ua=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),o=S(),[a,i]=V(Fr),{pathname:s}=P(),{refresh:l}=B(),d=c=>{if(c==="rename"){if(!cr()){L.warning(o("home.toolbar.only_one-tips"));return}t()}};return v.on("tool",d),T(()=>{v.off("tool",d)}),n(k,{get when(){return e()},get children(){return n(Ke,{title:"home.toolbar.input_new_name",get opened(){return e()},onClose:r,get defaultValue(){var c,h;return(h=(c=me()[0])==null?void 0:c.name)!=null?h:""},get loading(){return a()},onSubmit:async c=>{const h=await i(Z(s(),me()[0].name),c);U(h,()=>{l(),r()})}})}})},Wa=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),[o,a]=V(Rr),{refresh:i}=B(),{pathname:s}=P(),l=d=>{d==="new_file"&&t()};return v.on("tool",l),T(()=>{v.off("tool",l)}),n(Ke,{title:"home.toolbar.input_filename",get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async d=>{const c=await a(Z(s(),d),Ie());U(c,()=>{i(),r()})}})},qa=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),[o,a]=V(jr),{pathname:i}=P(),{refresh:s}=B(),l=d=>{d==="mkdir"&&t()};return v.on("tool",l),T(()=>{v.off("tool",l)}),n(Ke,{title:"home.toolbar.input_dir_name",get opened(){return e()},onClose:r,get loading(){return o()},onSubmit:async d=>{const c=await a(Z(i(),d));U(c,()=>{s(),r()})}})},Ka=_e("<p></p>"),Ga=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),{isOpen:o,onOpen:a,onClose:i}=E(),[s,l]=V(Dr),{pathname:d}=P(),{refresh:c}=B(),h=g=>{g==="recursiveMove"&&t()};v.on("tool",h),T(()=>{v.off("tool",h)});const u=S();return[n(J,{blockScrollOnMount:!1,get opened(){return e()},onClose:()=>r(),size:{"@initial":"xs","@md":"md"},get children(){return[n(X,{}),n(ne,{get children(){return[n(re,{get children(){return u("home.toolbar.recursive_move")}}),n(oe,{get children(){const g=Ka.cloneNode(!0);return pe(g,()=>u("home.toolbar.recursive_move_directory-tips")),g}}),n(he,{display:"flex",gap:"$2",get children(){return[n(A,{onClick:()=>r(),colorScheme:"neutral",get children(){return u("global.cancel")}}),n(A,{onClick:()=>{r(),a()},colorScheme:"danger",get children(){return u("global.confirm")}})]}})]}})]}}),n($t,{get opened(){return o()},onClose:i,get loading(){return s()},onSubmit:async g=>{const f=await l(d(),g);U(f,()=>{c(),i()})}})]},Xa=_e("<p></p>"),Ja=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),{pathname:o}=P(),[a,i]=V(Ir),{refresh:s}=B(),l=c=>{c==="removeEmptyDirectory"&&t()};v.on("tool",l),T(()=>{v.off("tool",l)});const d=S();return n(J,{blockScrollOnMount:!1,get opened(){return e()},onClose:r,size:{"@initial":"xs","@md":"md"},get children(){return[n(X,{}),n(ne,{get children(){return[n(re,{get children(){return d("home.toolbar.remove_empty_directory")}}),n(oe,{get children(){const c=Xa.cloneNode(!0);return pe(c,()=>d("home.toolbar.remove_empty_directory-tips")),c}}),n(he,{display:"flex",gap:"$2",get children(){return[n(A,{onClick:r,colorScheme:"neutral",get children(){return d("global.cancel")}}),n(A,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const c=await i(o());U(c,()=>{s(),r()})},get children(){return d("global.confirm")}})]}})]}})]}})},Qa=e=>n(xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){return n(H,{class:"list-item",w:"$full",p:"$2",rounded:"$lg",transition:"all 0.3s",get _hover(){return{transform:"scale(1.01)",bgColor:ft()}},get children(){return[n(Ne,{w:{"@initial":"50%","@md":"50%"},class:"name",css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},get title(){return e.obj.oldName},get children(){return e.obj.oldName}}),n(Ne,{w:{"@initial":"50%","@md":"50%"},class:"name",css:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},get title(){return e.obj.newName},get children(){return e.obj.newName}})]}})}}),Za=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),{isOpen:o,onOpen:a,onClose:i}=E(),[s,l]=V(Lr),{pathname:d}=P(),{refresh:c}=B(),[h,u]=N(""),[g,f]=N(""),[w,p]=N([]),b=S(),y=()=>({fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:"left",cursor:"pointer"}),M=_=>{_==="regexRename"&&a()};return v.on("tool",M),T(()=>{v.off("tool",M)}),[n(J,{blockScrollOnMount:!1,get opened(){return o()},onClose:()=>i(),size:{"@initial":"xs","@md":"md"},get children(){return[n(X,{}),n(ao,{title:"home.toolbar.regular_rename",get opened(){return o()},onClose:i,get loading(){return s()},get defaultValue1(){return h()},get defaultValue2(){return g()},onSubmit:async(_,R)=>{const j=new RegExp(_,"g"),W=x.objs.filter(m=>m.name.match(_)).map(m=>({oldName:m.name,newName:m.name.replace(j,R)}));p(W),u(_),f(R),t(),i()}})]}}),n(J,{size:"xl",get opened(){return e()},onClose:r,get children(){return[n(X,{}),n(ne,{get children(){return[n(re,{get children(){return b("home.toolbar.regex_rename_preview")}}),n(oe,{get children(){return n(te,{class:"list",w:"$full",spacing:"$1",get children(){return[n(H,{class:"title",w:"$full",p:"$2",get children(){return[n(Ne,we({w:{"@initial":"50%","@md":"50%"}},y,{get children(){return b("home.toolbar.regex_rename_preview_old_name")}})),n(Ne,we({w:{"@initial":"50%","@md":"50%"}},y,{get children(){return b("home.toolbar.regex_rename_preview_new_name")}}))]}}),n(Te,{get each(){return w()},children:(_,R)=>n(Qa,{obj:_,get index(){return R()}})})]}})}}),n(he,{display:"flex",gap:"$2",get children(){return[n(A,{onClick:()=>{p([]),r(),i()},colorScheme:"neutral",get children(){return b("global.cancel")}}),n(A,{onClick:()=>{p([]),r(),a()},colorScheme:"neutral",get children(){return b("global.back")}}),n(A,{get loading(){return s()},onClick:async()=>{const _=await l(d(),h(),g());U(_,()=>{p([]),u(""),f(""),c(),i(),r()})},get disabled(){return w().length==0},get children(){return b("global.ok")}})]}})]}})]}})]},Ya=()=>{const e=S(),[t,r]=N("aria2"),{isOpen:o,onOpen:a,onClose:i}=E(),[s,l]=V(Vr),{pathname:d}=P(),c=h=>{h==="offline_download"&&a()};return v.on("tool",c),T(()=>{v.off("tool",c)}),n(Ke,{title:"home.toolbar.offline_download",type:"text",get opened(){return o()},onClose:i,get loading(){return s()},get tips(){return e("home.toolbar.offline_download-tips")},get topSlot(){return n(Fe,{mb:"$2",get children(){return n(ur,{get value(){return t()},onChange:h=>r(h),options:[{value:"aria2",label:"Aria2"},{value:"qbit",label:"qBittorrent"}]})}})},onSubmit:async h=>{const u=await l(d(),h.split(`
`),t());U(u,()=>{i()})}})},ei=e=>{const t=S(),r=s=>{s===e.name&&a()};v.on("tool",r),T(()=>{v.off("tool",r)});const{isOpen:o,onOpen:a,onClose:i}=E();return n(J,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return o()},onClose:i,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[n(X,{}),n(ne,{get children(){return[n(dr,{}),n(re,{get children(){return t(e.title)}}),n(oe,{get children(){return n(k,{get when(){return o()},get children(){return n(pt,{get fallback(){return n(Ve,{})},get children(){return e.children}})}})}})]}})]}})},ti=e=>{const t=S();return n(Cr,{get children(){return[n(_r,{get children(){return t(`home.local_settings.${e.name}`)}}),n(Le,{get value(){return Yt[e.name]},onInput:r=>{$r(e.name,r.currentTarget.value)}})]}})},ni=()=>{const{isOpen:e,onOpen:t,onClose:r}=E(),o=S(),a=i=>{i==="local_settings"&&t()};return v.on("tool",a),T(()=>{v.off("tool",a)}),n(yr,{get opened(){return e()},placement:"right",onClose:r,get children(){return[n(hr,{}),n(gr,{get children(){return[n(fr,{}),n(mr,{color:"$info9",get children(){return o("home.toolbar.local_settings")}}),n(pr,{get children(){return[n(te,{spacing:"$2",get children(){return n(Te,{get each(){return Object.keys(vr)},children:i=>n(ti,{name:i})})}}),n(on,{mt:"$4",get children(){return n(H,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[n(wr,{}),n(br,{})]}})}})]}})]}})]}})},ri=Ae(()=>Pe(()=>import("./Upload.9be2951f.js"),["assets/Upload.9be2951f.js","assets/index.91ca9f2f.js","assets/index.15d8d646.css","assets/index.5cb3c9e9.js"])),oi=()=>[n(Ba,{}),n(za,{}),n(Ua,{}),n(Na,{}),n(Wa,{}),n(qa,{}),n(Ga,{}),n(Ja,{}),n(Za,{}),n(Ya,{}),n(Io,{}),n(ei,{name:"upload",title:"home.toolbar.upload",get children(){return n(ri,{})}}),n(ni,{})],ai=()=>n(Sr,{get children(){return[n(Va,{}),n(La,{}),n(oi,{})]}}),ii=()=>{Mr(ve("site_title"));const e=ve("announcement");return e&&L.render(()=>n(hn,{children:e})),[n(ko,{}),n(ai,{}),n(go,{}),n(mo,{})]},wi=Object.freeze(Object.defineProperty({__proto__:null,default:ii},Symbol.toStringTag,{value:"Module"}));export{vi as I,wi as L,xt as M,pi as T,B as a,Yr as b,mi as g,xo as i,Q as o,ro as u};
