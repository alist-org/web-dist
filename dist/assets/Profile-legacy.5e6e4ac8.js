!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return t};var t={},r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),u=new $(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return j()}for(r.method=i,r.arg=o;;){var u=r.delegate;if(u){var a=x(u,r);if(a){if(a===h)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=d(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,u),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=l;var h={};function f(){}function g(){}function p(){}var y={};s(y,u,(function(){return this}));var w=Object.getPrototypeOf,m=w&&w(w(O([])));m&&m!==r&&n.call(m,u)&&(y=m);var v=p.prototype=f.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(t,r){function i(o,u,a,c){var s=d(t[o],t,u);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==e(h)&&n.call(h,"__await")?r.resolve(h.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):r.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,t){function n(){return new r((function(r,n){i(e,t,r,n)}))}return o=o?o.then(n,n):n()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=d(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return g.prototype=p,s(v,"constructor",p),s(p,"constructor",g),g.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(_.prototype),s(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var u=new _(l(e,r,n,i),o);return t.isGeneratorFunction(r)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},b(v),s(v,c,"Generator"),s(v,u,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=O,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return u.type="throw",u.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function o(e,t,r,n,i,o,u){try{var a=e[o](u),c=a.value}catch(s){return void r(s)}a.done?t(c):Promise.resolve(c).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var u=e.apply(t,r);function a(e){o(u,n,i,a,c,"next",e)}function c(e){o(u,n,i,a,c,"throw",e)}a(void 0)}))}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);u=!0);}catch(c){a=!0,i=c}finally{try{u||null==r.return||r.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}System.register(["./index-legacy.831fc35d.js","./useTitle-legacy.d46af42e.js","./index-legacy.c1eecb20.js","./webauthn-json.browser-ponyfill-legacy.1eb8248a.js"],(function(e,t){"use strict";var n,o,c,s,l,d,h,f,g,p,y,w,m,v,b,_,x,k,S,$,O,j,L,E,I,A,P,C,T,N,D,G,M,F,z,Y,U,B,R,J,W,X,H,K,Q,V,Z,q,ee,te,re,ne,ie;return{setters:[function(e){n=e.b,o=e.bb,c=e.bs,s=e.B,l=e.x,d=e.df,h=e.ai,f=e.bY,g=e.Q,p=e.bt,y=e.n,w=e.S,m=e.av,v=e.ah,b=e.bZ,_=e.dg,x=e.cN,k=e.a$,S=e.R,$=e.M,O=e.I,j=e.bw,L=e.J,E=e.K,I=e.bT,A=e.bG,P=e.L,C=e.T,T=e.O,N=e.V,D=e.am,G=e.d,M=e.ay,F=e.dh,z=e.r,Y=e.ax,U=e.an,B=e.di,R=e.dj,J=e.dk,W=e.dl,X=e.dm,H=e.N,K=e.ap,Q=e.W,V=e.aY,Z=e.cO,q=e.cD},function(e){ee=e.b},function(e){te=e.L},function(e){re=e.s,ne=e.c,ie=e.b}],execute:function(){var t=function(e){var t=n(),r=a(o((function(){return c.post("/authn/delete_authn",{id:e.id})})),2),m=r[0],v=r[1],b=a(s(!1),2),_=b[0],x=b[1];return l(w,{get when(){return!_()},get children(){return l(d,{w:"$full",overflowX:"auto",shadow:"$md",rounded:"$lg",p:"$2",direction:{"@initial":"column","@xl":"row"},spacing:"$2",get children(){return[l(h,{w:"$full",alignItems:"start",spacing:"$1",get children(){return l(f,{color:"$info9",css:{wordBreak:"break-all"},get children(){return"Fingerprint: "+e.fingerprint+"\tID: "+e.id}})}}),l(d,{direction:{"@initial":"row","@xl":"column"},justifyContent:{"@xl":"center"},spacing:"$1",get children(){return l(g,{colorScheme:"danger",get loading(){return m()},onClick:(e=u(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:r=e.sent,p(r,(function(){y.success(t("global.delete_success")),x(!0)}));case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),get children(){return t("global.delete")}});var e}})]}})}})},oe=[{name:"title",textAlign:"left",w:"calc(35% - 110px)"},{name:"fingerprint",textAlign:"left",w:"calc(65% - 110px)"},{name:"last_used",textAlign:"right",w:"140px"},{name:"operation",textAlign:"right",w:"80px"}],ue=function(e){var t=n(),r=a(s(!1),2),d=r[0],h=r[1],x=a(e.isMine?o((function(){return c.post("/me/sshkey/delete?id=".concat(e.id))})):o((function(){return c.post("/admin/user/sshkey/delete?uid=".concat(e.userId,"&id=").concat(e.id))})),2),k=x[0],S=x[1],$={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};return l(w,{get when(){return!d()},get children(){return l(m,{w:"$full",p:"$2",get children(){return[l(f,{get w(){return oe[0].w},size:"sm",get textAlign(){return oe[0].textAlign},css:$,get children(){return e.title}}),l(v,{get w(){return oe[1].w},size:"sm",get textAlign(){return oe[1].textAlign},css:$,get children(){return e.fingerprint}}),l(v,{get w(){return oe[2].w},size:"sm",get textAlign(){return oe[2].textAlign},css:$,get children(){return t=new Date(e.last_used_time),r=t.getFullYear().toString(),n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),u=t.getMinutes().toString().padStart(2,"0"),a=t.getSeconds().toString().padStart(2,"0"),"".concat(r,"/").concat(n,"/").concat(i," ").concat(o,":").concat(u,":").concat(a);var t,r,n,i,o,u,a}}),l(b,{get w(){return oe[3].w},gap:"$1",get children(){return[l(_,{}),l(g,{size:"sm",colorScheme:"danger",get loading(){return k()},onClick:(e=u(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:r=e.sent,p(r,(function(){y.success(t("global.delete_success")),h(!0)}));case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),get children(){return t("global.delete")}})];var e}})]}})}})},ae=function(e){var t=n(),r=a(s([]),2),d=r[0],y=r[1],G=a(e.isMine?o((function(){return c.get("/me/sshkey/list")})):o((function(){return c.get("/admin/user/sshkey/list?uid=".concat(e.userId))})),2),M=G[0],F=G[1],z=a(x({title:"",key:""}),2),Y=z[0],U=z[1],B=a(o((function(){return c.post("/me/sshkey/add",Y)})),2),R=B[0],J=B[1],W=k(),X=W.isOpen,H=W.onOpen,K=W.onClose,Q=function(){var e=u(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,p(t,(function(e){y(e.content)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Q();var V=function(e){return{fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:e.textAlign}};return l(h,{w:"$full",alignItems:"start",spacing:"$2",get children(){return[l(b,{w:"$full",get children(){return[l(f,{get children(){return t("users.ssh_keys.heading")}}),l(w,{get when(){return e.isMine},get children(){return[l(_,{}),l(g,{get loading(){return M()},onClick:H,get children(){return t("global.add")}}),l(S,{get opened(){return X()},onClose:K,scrollBehavior:"inside",get children(){return[l($,{}),l(O,{get children(){return[l(j,{}),l(L,{get children(){return t("users.ssh_keys.add_heading")}}),l(E,{get children(){return[l(I,{mb:"$4",get children(){return[l(A,{for:"add_title",get children(){return t("users.ssh_keys.title")}}),l(P,{id:"add_title",get value(){return Y.title},onInput:function(e){return U("title",e.currentTarget.value)}})]}}),l(I,{get children(){return[l(A,{for:"add_key",get children(){return t("users.ssh_keys.key")}}),l(C,{id:"add_key",get value(){return Y.key},onInput:function(e){return U("key",e.currentTarget.value)}})]}})]}}),l(T,{get children(){return l(g,{get loading(){return R()},onClick:(e=u(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:t=e.sent,p(t,(function(){U("title",""),U("key",""),Q(),K()}));case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),get children(){return t("global.add")}});var e}})]}})]}})]}})]}}),l(h,{w:"$full",overflowX:"auto",shadow:"$md",rounded:"$lg",spacing:"$1",p:"$1",get children(){return[l(m,{class:"title",w:"$full",p:"$2",get children(){return[l(v,N({get w(){return oe[0].w}},(function(){return V(oe[0])}),{get children(){return t("users.ssh_keys.".concat(oe[0].name))}})),l(v,N({get w(){return oe[1].w}},(function(){return V(oe[1])}),{get children(){return t("users.ssh_keys.".concat(oe[1].name))}})),l(v,N({get w(){return oe[2].w}},(function(){return V(oe[2])}),{get children(){return t("users.ssh_keys.".concat(oe[2].name))}})),l(v,N({get w(){return oe[3].w}},(function(){return V(oe[3])}),{get children(){return t("users.ssh_keys.".concat(oe[3].name))}}))]}}),D((function(){return d().map((function(t){return l(ue,N(e,t))}))}))]}})]}})},ce=function(e){return l(Z,{get colorScheme(){return e.can?"success":"danger"},get children(){return e.children}})};e("default",(function(){var e=n();ee("manage.sidemenu.profile");var d=G(),b=d.searchParams,_=d.to,x=a(s(M().username),2),k=x[0],S=x[1],$=a(s(""),2),O=$[0],j=$[1],L=a(s(""),2),E=L[0],C=L[1],T=U("sso_compatibility_mode"),N=o((function(e){return c.post("/me/update",{username:e?M().username:k(),password:e?"":O(),sso_id:M().sso_id})})),Z=a(N,2),oe=Z[0],ue=Z[1],se=a(o((function(){return c.get("/authn/getcredentials")})),2),le=se[0],de=se[1],he=a(o((function(){return c.get("/authn/webauthn_begin_registration")})),2)[1],fe=o((function(e,t){return c.post("/authn/webauthn_finish_registration",JSON.stringify(t),{headers:{session:e}})})),ge=a(fe,2),pe=ge[0],ye=ge[1],we=function(){var t=u(i().mark((function t(n){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!O()||O()===E()){t.next=3;break}return y.warning(e("users.confirm_password_not_same")),t.abrupt("return");case 3:return t.next=5,ue(n);case 5:o=t.sent,p(o,(function(){F(r(r({},M()),{},{username:k()})),n?_(""):(y.success(e("users.update_profile_success")),_("/@login?redirect=".concat(encodeURIComponent(location.pathname))))}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),me=b.sso_id;function ve(e){var t=e.data;t.sso_id&&(F(r(r({},M()),{},{sso_id:t.sso_id})),we(!0))}me&&(F(r(r({},M()),{},{sso_id:me})),we(!0)),window.addEventListener("message",ve),z((function(){window.removeEventListener("message",ve)}));var be=a(s([]),2),_e=be[0],xe=be[1],ke=function(){var e=u(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:t=e.sent,q(t,xe);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return re()&&!Y.is_guest(M())&&U("webauthn_login_enabled")&&ke(),l(h,{w:"$full",spacing:"$4",alignItems:"start",get children(){return[l(w,{get when(){return!Y.is_guest(M())},get fallback(){return[l(B,{status:"warning",flexDirection:{"@initial":"column","@lg":"row"},get children(){return[l(R,{mr:"$2_5"}),l(J,{mr:"$2_5",get children(){return e("users.guest-tips")}}),l(W,{get children(){return e("users.modify_nothing")}})]}}),l(m,{spacing:"$2",get children(){return[l(v,{get children(){return e("global.have_account")}}),l(v,{color:"$info9",as:te,get href(){return"/@login?redirect=".concat(encodeURIComponent(location.pathname))},get children(){return e("global.go_login")}})]}})]},get children(){return[l(f,{get children(){return e("users.update_profile")}}),l(X,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return l(I,{get children(){return[l(A,{for:"username",get children(){return e("users.change_username")}}),l(P,{id:"username",get value(){return k()},onInput:function(e){S(e.currentTarget.value)}})]}})}}),l(X,{gap:"$2",columns:{"@initial":1,"@md":2},get children(){return[l(I,{get children(){return[l(A,{for:"password",get children(){return e("users.change_password")}}),l(P,{id:"password",type:"password",placeholder:"********",get value(){return O()},onInput:function(e){j(e.currentTarget.value)}}),l(H,{get children(){return e("users.change_password-tips")}})]}}),l(I,{get children(){return[l(A,{for:"confirm-password",get children(){return e("users.confirm_password")}}),l(P,{id:"confirm-password",type:"password",placeholder:"********",get value(){return E()},onInput:function(e){C(e.currentTarget.value)}}),l(H,{get children(){return e("users.confirm_password-tips")}})]}})]}}),l(m,{spacing:"$2",get children(){return[l(g,{get loading(){return oe()},onClick:[we,!1],get children(){return e("global.save")}}),l(w,{get when(){return!M().otp},get children(){return l(g,{colorScheme:"accent",onClick:function(){_("/@manage/2fa")},get children(){return e("users.enable_2fa")}})}})]}})]}}),l(w,{get when(){return D((function(){return!!U("sso_login_enabled")}),!0)()&&!Y.is_guest(M())},get children(){return[l(f,{get children(){return e("users.sso_login")}}),l(m,{spacing:"$2",get children(){return l(w,{get when(){return M().sso_id},get fallback(){return l(g,{onClick:function(){var e=c.getUri()+"/auth/sso?method=get_sso_id";T?window.location.href=e:window.open(e,"authPopup","width=500,height=600")},get children(){return e("users.connect_sso")}})},get children(){return l(g,{colorScheme:"danger",get loading(){return oe()},onClick:function(){F(r(r({},M()),{},{sso_id:""})),we(!0)},get children(){return e("users.disconnect_sso")}})}})}})]}}),l(w,{get when(){return D((function(){return!Y.is_guest(M())}),!0)()&&U("webauthn_login_enabled")},get children(){return[l(f,{get children(){return e("users.webauthn")}}),l(m,{wrap:"wrap",gap:"$2",mt:"$2",get children(){return l(K,{get loading(){return le()},get children(){return l(Q,{get each(){return _e()},children:function(e){return l(t,{get id(){return e.id},get fingerprint(){return e.fingerprint}})}})}})}}),l(g,{get loading(){return pe()},onClick:(r=u(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(re()){t.next=3;break}return y.error(e("users.webauthn_not_supported")),t.abrupt("return");case 3:return t.next=5,he();case 5:r=t.sent,p(r,function(){var t=u(i().mark((function t(r){var n,o,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ne(r.options),o=r.session,t.prev=2,t.next=5,ie(n);case 5:return u=t.sent,t.t0=p,t.next=9,ye(o,u);case 9:t.t1=t.sent,t.t2=function(){y.success(e("users.add_webauthn_success"))},(0,t.t0)(t.t1,t.t2),t.next=17;break;case 14:t.prev=14,t.t3=t.catch(2),t.t3 instanceof Error&&y.error(t.t3.message);case 17:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),get children(){return e("users.add_webauthn")}})];var r}}),l(m,{wrap:"wrap",gap:"$2",mt:"$2",get children(){return l(Q,{each:V,children:function(t,r){return l(ce,{get can(){return Y.can(M(),r())},get children(){return e("users.permissions.".concat(t))}})}})}}),l(ae,{isMine:!0,get userId(){return M().id}})]}})}))}}}))}();
