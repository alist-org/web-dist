!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);l=!0);}catch(c){a=!0,i=c}finally{try{l||null==t.return||t.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function r(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(n){i(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}System.register(["./index-legacy.c56d7e8a.js","./style-legacy.a5e3c4ef.js","./index-legacy.29dcd5c8.js","./helper-legacy.8006a088.js","./color-legacy.24148ccb.js"],(function(n,t){"use strict";var o,l,a,c,u,s,d,f,g,h,m,p,b,w,y,v,j,x,O,S,$,k,C,_,P,A,z,W,I,E,M,D,q,L,K,T,H,B,U,X,G,N,V,Z,F,J,Q,R;return{setters:[function(e){o=e.dM,l=e.U,a=e.d,c=e.x,u=e.ai,s=e.$,d=e.am,f=e.av,g=e.ei,h=e.E,m=e.S,p=e.b2,b=e.aP,w=e.aC,y=e.d8,v=e.d0,j=e.aO,x=e.ah,O=e.q,S=e.r,$=e.b0,k=e.W,C=e.aZ,_=e.cV,P=e.ao,A=e.cW,z=e.da,W=e.au,I=e.az,E=e.A,M=e.b,D=e.o,q=e.ay,L=e.j,K=e.e,T=e.B,H=e.H,B=e.ej,U=e.ek,X=e.b5,G=e.V,N=e.el,V=e.ad},function(e){Z=e.b},function(e){F=e.s},function(e){J=e.I,Q=e.u},function(e){R=e.g}],execute:function(){var t=I("<div></div>"),Y=I("<style></style>"),ee=n("c",[{name:"name",textAlign:"left",w:{"@initial":"calc(100% - 100px)","@md":"35%"}},{name:"size",textAlign:"right",w:{"@initial":"100px","@md":"30%"}},{name:"modified",textAlign:"right",w:{"@initial":0,"@md":"25%"}}]),ne=function(){var e=K,n=E((function(){return e().reduce((function(e,n){return e+(n.size||0)}),0)})),t=M();return c(m,{get when(){return e().length>0},get children(){return c(f,{spacing:"$2",position:"fixed",top:"$4",right:"$4",transform:"none",get bgColor(){return w()},color:"white",p:"$2",rounded:"$lg",zIndex:"$banner",shadow:"$md",get children(){return[c(x,{get children(){return[d((function(){return t("home.selected")}))," ",d((function(){return e().length}))," ",d((function(){return t("home.selected_count")}))]}}),c(x,{get children(){return[d((function(){return t("home.total_size")}))," ",d((function(){return A(n())}))]}})]}})}})},te=function(e){var n=o().isHide;if(l(),n(e.obj))return null;var I=l().setPathAs,E=Z({id:1}).show,M=a(),K=(M.pushHref,M.to),T=M.pathname,H=Q(),B=H.openWithDoubleClick,U=H.toggleWithClick,X=H.restoreSelectionCache,G=function(){return D.list_item_filename_overflow},N=function(){return q().permissions,L(T(),e.obj.name)};return[c(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},style:{width:"100%"},get children(){var n,o,l;return c(u,(o={get classList(){return{selected:!!e.obj.selected}},class:"list-item viselect-item"},(l={})[n="data-index"]=l[n]||{},l[n].get=function(){return e.index},i(o,"w","$full"),i(o,"p","$2"),i(o,"rounded","$lg"),i(o,"transition","all 0.3s"),i(o,"spacing","$1"),i(o,"alignItems","stretch"),"_hover",l._hover=l._hover||{},l._hover.get=function(){return{transform:"scale(1.01)",backgroundColor:s()}},"bgColor",l.bgColor=l.bgColor||{},l.bgColor.get=function(){return d((function(){return!!e.obj.selected}),!0)()?s():void 0},"children",l.children=l.children||{},l.children.get=function(){return[c(f,{w:"$full",spacing:"$2",get children(){return[c(f,{class:"name-box",spacing:"$1",get w(){return ee[0].w},as:F,get href(){return e.obj.name},get cursor(){return B()||U()?"default":"pointer"},"on:dblclick":function(){B()&&(g(e.index,!0,!0),K(N()))},"on:click":function(n){if(n.preventDefault(),!B()&&!(n.ctrlKey||n.metaKey||n.shiftKey)&&X())return U()?g(e.index,!e.obj.selected):void K(N())},onMouseEnter:function(){I(e.obj.name,e.obj.is_dir,!0)},onContextMenu:function(n){h((function(){g(e.index,!0,!0)})),E(n,{props:e.obj})},get children(){return[c(m,{get when(){return p()},get children(){return c(J,{"on:mousedown":function(e){e.stopPropagation()},"on:click":function(e){e.stopPropagation()},get checked(){return e.obj.selected},onChange:function(n){g(e.index,n.target.checked)}})}}),c(b,{class:"icon",boxSize:"$6",get color(){return w()},get as(){return y(e.obj)},mr:"$1",get cursor(){return e.obj.type!==v.IMAGE?"inherit":"pointer"},"on:click":function(n){e.obj.type===v.IMAGE&&(n.ctrlKey||n.metaKey||n.shiftKey||X()&&(j.emit("gallery",e.obj.name),n.preventDefault(),n.stopPropagation()))}}),c(x,{class:"name",fontSize:{"@initial":"sm","@md":"md"},get css(){return r(r(r({position:"relative",flex:1,minWidth:0,cursor:"pointer"},"ellipsis"===G()&&{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),"scrollable"===G()&&{whiteSpace:"nowrap",overflow:"hidden"}),"multi_line"===G()&&{whiteSpace:"normal",wordBreak:"break-word",lineHeight:"1.4"})},get title(){return e.obj.name},get children(){return[c(m,{get when(){return"scrollable"===G()},get children(){return[(i=t.cloneNode(!0),(r=i)&&O((function(){var e=function(){var e=r.parentElement;e&&r.scrollWidth>e.clientWidth?r.classList.add("should-marquee"):r.classList.remove("should-marquee")};e(),window.addEventListener("resize",e),S((function(){window.removeEventListener("resize",e)}))})),i.style.setProperty("display","inline-block"),i.style.setProperty("white-space","nowrap"),i.style.setProperty("padding-right","50px"),$(i,(function(){return e.obj.name})),i),(n=Y.cloneNode(!0),$(n,(function(){return"\n                    .should-marquee:hover {\n                      animation: marquee 8s linear infinite;\n                    }\n                    @keyframes marquee {\n                      0% { transform: translateX(0); }\n                      100% { transform: translateX(calc(-100% + ".concat(ee[0].w["@initial"],")); }\n                    }\n                    ")})),n)];var n,r,i}}),c(m,{get when(){return"scrollable"!==G()},get children(){return e.obj.name}})]}})]}}),c(f,{spacing:"$0_5",justifyContent:"flex-start",overflow:"hidden",w:"25%",minW:"200px",display:{"@initial":"none","@md":"flex"},get children(){return c(m,{get when(){var n;return null===(n=e.obj.label_list)||void 0===n?void 0:n.length},get children(){return c(k,{get each(){return e.obj.label_list||[]},children:function(e){return c(C,{get label(){return e.name},placement:"top",get children(){return c(_,{colorScheme:"primary",get bgColor(){return R(e.bg_color)},get color(){return e.bg_color},variant:"solid",mr:"$0_5",textTransform:"none",maxW:"120px",overflow:"hidden",css:{textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.75rem",paddingInline:"0.5rem",paddingBlock:"0.25rem"},get children(){return e.name}})}})}})}})}}),c(P,{w:{"@initial":"90px","@md":"12%"},minW:{"@initial":"90px","@md":"12%"},display:"flex",justifyContent:{"@initial":"flex-end","@md":"flex-start"},flexShrink:0,pr:{"@initial":"0","@md":"$2"},get children(){return c(x,{class:"size",fontSize:{"@initial":"sm","@md":"md"},css:{whiteSpace:"nowrap"},get children(){return A(e.obj.size)}})}}),c(x,{class:"modified",display:{"@initial":"none","@md":"inline"},w:"20%",minW:"20%",textAlign:"right",css:{whiteSpace:"nowrap"},get children(){return z(e.obj.modified)}})]}}),c(m,{get when(){var n;return null===(n=e.obj.label_list)||void 0===n?void 0:n.length},get children(){return c(f,{spacing:"$1",flexWrap:"wrap",pl:"$8",display:{"@initial":"flex","@md":"none"},w:"$full",get children(){return c(k,{get each(){return e.obj.label_list||[]},children:function(e){return c(_,{colorScheme:"primary",get bgColor(){return R(e.bg_color)},get color(){return e.bg_color},variant:"solid",textTransform:"none",css:{fontSize:"0.65rem",paddingInline:"0.3rem",paddingBlock:"0.1rem",whiteSpace:"nowrap",lineHeight:"1.2"},get children(){return e.name}})}})}})}})]},function(e,n){for(var t in n)(o=n[t]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t,o);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(n),i=0;i<r.length;i++){var o,l=r[i];(o=n[l]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,l,o)}}(o,l),o))}}),c(ne,{})]},re=n("L",(function(n){var t=M(),r=e(T(),2),i=r[0],o=r[1],l=e(T(!1),2),a=l[0],u=l[1];H((function(){i()&&n.sortCallback(i(),a())}));var s=function(e){return{fontWeight:"bold",fontSize:"$sm",color:"$neutral11",textAlign:e.textAlign,cursor:"pointer",onClick:function(){e.name===i()?u(!a()):h((function(){o(e.name),u(!1)}))}}};return c(f,{class:"title",w:"$full",p:"$2",get children(){return[c(f,{get w(){return ee[0].w},spacing:"$1",get children(){return[c(m,{get when(){return d((function(){return!n.disableCheckbox}),!0)()&&p()},get children(){return c(J,{get checked(){return B()},get indeterminate(){return U()},onChange:function(e){X(e.target.checked)}})}}),c(x,G((function(){return s(ee[0])}),{get children(){return t("home.obj.".concat(ee[0].name))}}))]}}),c(x,G({get w(){return ee[1].w}},(function(){return s(ee[1])}),{get children(){return t("home.obj.".concat(ee[1].name))}})),c(x,G({get w(){return ee[2].w}},(function(){return s(ee[2])}),{display:{"@initial":"none","@md":"inline"},get children(){return t("home.obj.".concat(ee[2].name))}}))]}})})),ie=Object.freeze(Object.defineProperty({__proto__:null,ListTitle:re,default:function(){var e=Q(),n=(e.isMouseSupported,e.registerSelectContainer),t=e.captureContentMenu;return n(),c(u,{onDragOver:function(e){var n,t,r=UserPermissions.findIndex((function(e){return"write"===e}));if(UserMethods.can(me(),r,getCurrentPath()))for(var i=Array.from(null!==(n=null===(t=e.dataTransfer)||void 0===t?void 0:t.items)&&void 0!==n?n:[]),o=0;o<i.length;o++){if("file"===i[o].kind){j.emit("tool","upload"),e.preventDefault();break}}},"oncapture:contextmenu":t,class:"list viselect-container",w:"$full",spacing:"$1",get children(){return[c(re,{sortCallback:N}),c(k,{get each(){return V.objs},children:function(e,n){return c(te,{obj:e,get index(){return n()}})}})]}})}},Symbol.toStringTag,{value:"Module"}));n("a",ie)}}}))}();
