import{u as j,a as B,_ as Je,g as yt,b as St,o as O,p as Se,O as x,S as C,h as Ye,c as tn,n as W,s as Y,l as Ct,d as pe,e as r,M as Ce,f as _e,i as Oe,j as xe,k as $,I as _t,T as nn,F as rn,m as We,B as ee,q as ke,r as F,t as q,v as qe,w as on,x as an,y as sn,z as Ot,L as xt,A as cn,C as ln,D as un,E as ce,G as de,H as he,J as Me,K as kt,N as Ge,P as Ke,Q as me,R as Mt,U as K,V as dn,W as te,X as hn,Y as $e,Z as gn,$ as fn,a0 as Q,a1 as pn,a2 as we,a3 as be,a4 as Xe,a5 as mn,a6 as wn,a7 as bn,a8 as et,a9 as vn,aa as $t,ab as yn,ac as Sn,ad as Cn,ae as Et,af as Ee,ag as Tt,ah as At,ai as Pt,aj as Z,ak as Ft,al as _n,am as v,an as E,ao as L,ap as Lt,aq as jt,ar as Dt,as as On,at as xn,au as kn,av as tt,aw as Mn,ax as It,ay as Be,az as $n,aA as En,aB as Tn,aC as An,aD as Pn,aE as Fn,aF as nt,aG as Ln,aH as jn,aI as Dn,aJ as In,aK as G,aL as Bn,aM as Rn,aN as Vn,aO as zn,aP as Un,aQ as Hn,aR as Nn,aS as Wn,aT as qn,aU as Gn,aV as Kn,aW as Xn,aX as Qn,aY as Zn,aZ as Jn}from"./index.403084e8.js";import{u as Yn,a as er}from"./useTitle.07ecabdb.js";import{M as Bt}from"./Markdown.9c9fcc86.js";import{u as k}from"./useT.fc5c14e1.js";import{f as tr,a as nr,b as rr,c as or,d as ar,e as sr,g as ir,h as cr,i as lr,j as ur}from"./api.15bf4f8b.js";import{u as dr,a as Rt,b as hr}from"./useUtil.2596da07.js";import{A as gr,B as fr,C as pr,a as mr,b as wr,T as br,c as rt}from"./index.a2a99c3e.js";import{R as vr}from"./index.11c046a7.js";import{M as Vt}from"./FolderTree.a679b49c.js";let ge;function yr(e,t,n="replaceState"){let o=n==="location"?location.href:location.hash;if(!o.includes("?"))o=`${o}?${e}=${t}`;else if(!o.includes(e))o=`${o}&${e}=${t}`;else{const a=`(\\?|&|#)${e}([^&|^#]*)(&|$|#)`;o=o.replace(new RegExp(a),"$1"+e+"="+t+"$3")}n==="location"&&(location.href=o),n==="pushState"&&history.pushState({},"",o),n==="replaceState"&&history.replaceState({},"",o)}function ot(e){for(var t=window.location.search.substring(1),n=t.split("&"),o=0;o<n.length;o++){var a=n[o].split("=");if(a[0]==e)return a[1]}return""}const Pe={};let I=1;const ma=()=>I,Sr=()=>{const e=yt();I=1,e.type==="pagination"&&yr("page",1),console.log("resetGlobalPage",I)},R=()=>{const{pathname:e}=j(),[,t]=B(u=>tr(u,Je())),n=yt();n.type==="pagination"&&ot("page")&&(I=parseInt(ot("page")));const[,o]=B(u=>{const h={index:u==null?void 0:u.index,size:u==null?void 0:u.size};return nr(u==null?void 0:u.path,Je(),h.index,h.size,u==null?void 0:u.force,new St.CancelToken(function(w){ge=w}))}),a=(u,h=!0,g=!1)=>{g&&(u=Se(e(),u)),h?Pe[u]=!0:delete Pe[u]};let s=!1;const i=(u,h,g)=>{ge==null||ge(),s=h!=null?h:!1,l(""),Pe[u]?d(u,I,void 0,void 0,g):c(u)},c=async u=>{x.setState(C.FetchingObj);const h=await t(u);Ye(h,g=>{var w;x.setObj(g),x.setProvider(g.provider),g.is_dir?(a(u),d(u,I)):(x.setReadme(g.readme),x.setRelated((w=g.related)!=null?w:[]),x.setRawUrl(g.raw_url),x.setState(C.File))},l)},d=async(u,h,g,w=!1,p)=>{g||(g=n.size),g!==void 0&&n.type==="all"&&(g=void 0),I=h!=null?h:1,x.setState(w?C.FetchingMore:C.FetchingObjs);const b=await o({path:u,index:h,size:g,force:p});Ye(b,S=>{var M;w?tn(S.content):(x.setObjs((M=S.content)!=null?M:[]),x.setTotal(S.total)),x.setReadme(S.readme),x.setWrite(S.write),x.setProvider(S.provider),x.setState(C.Folder)},l)},l=(u,h)=>{h===403?(x.setState(C.NeedPassword),s&&W.error(u)):x.setErr(u)},m=(u,h,g=!1)=>{d(e(),u,h,g)};return{handlePathChange:i,setPathAs:a,refresh:(u,h)=>{i(e(),u,h)},pageChange:m,loadMore:()=>{m(I+1,void 0,!0)},allLoaded:()=>I>=Math.ceil(O.total/n.size)}},Cr=()=>{const{rawLinks:e}=dr(),{rawLink:t}=Rt(),n=k();return{batchDownloadSelected:()=>{e(!0).forEach(a=>{window.open(a,"_blank")})},sendToAria2:async()=>{const o=Y().filter(c=>!c.is_dir),{aria2_rpc_url:a,aria2_rpc_secret:s,aria2_dir:i}=Ct;if(!a){W.warning(n("home.toolbar.aria2_not_set"));return}try{for(const c of o){const d=await St.post(a,{id:Math.random().toString(),jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+s,[t(c)],{out:c.name,"check-certificate":"false"}]});console.log(d)}W.success(n("home.toolbar.send_aria2_success"))}catch(c){console.error(c),W.error(`failed to send to aria2: ${c}`)}}}},Te=e=>{var s;const[t,n]=pe((s=e.defaultValue)!=null?s:""),o=k(),a=()=>{var i;if(!t()){W.warning(o("global.empty_input"));return}(i=e.onSubmit)==null||i.call(e,t()),n("")};return r(ke,{blockScrollOnMount:!1,get opened(){return e.opened},get onClose(){return e.onClose},initialFocus:"#modal-input",get children(){return[r(Ce,{}),r(_e,{get children(){return[r(Oe,{get children(){return o(e.title)}}),r(xe,{get children(){return[r($,{get when(){return e.type==="text"},get fallback(){return r(_t,{id:"modal-input",get type(){return e.type},get value(){return t()},onInput:i=>{n(i.currentTarget.value)},onKeyDown:i=>{i.key==="Enter"&&a()}})},get children(){return r(nn,{id:"modal-input",get value(){return t()},onInput:i=>{n(i.currentTarget.value)}})}}),r($,{get when(){return e.tips},get children(){return r(rn,{get children(){return e.tips}})}})]}}),r(We,{display:"flex",gap:"$2",get children(){return[r(ee,{get onClick(){return e.onClose},colorScheme:"neutral",get children(){return o("global.cancel")}}),r(ee,{get loading(){return e.loading},onClick:()=>a(),get children(){return o("global.ok")}})]}})]}})]}})};function wa(e){return F({a:{viewBox:"0 0 384 512"},c:'<path d="M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"/>'},e)}function ba(e){return F({a:{viewBox:"0 0 256 512"},c:'<path d="M192 448c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l137.4 137.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448z"/>'},e)}function va(e){return F({a:{viewBox:"0 0 256 512"},c:'<path d="M64 448c-8.188 0-16.38-3.125-22.62-9.375-12.5-12.5-12.5-32.75 0-45.25L178.8 256 41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"/>'},e)}function ya(e){return F({a:{viewBox:"0 0 448 512"},c:'<path d="M448 336V48c0-26.51-21.5-48-48-48H96C42.98 0 0 42.98 0 96v320c0 53.02 42.98 96 96 96h320c17.67 0 32-14.33 32-31.1 0-11.72-6.607-21.52-16-27.1v-81.36c9.8-9.64 16-22.24 16-36.44zM143.1 128h192c9.7 0 16.9 7.2 16.9 16s-7.2 16-16 16H143.1c-7.9 0-15.1-7.2-15.1-16s7.2-16 15.1-16zm0 64h192c9.7 0 16.9 7.2 16.9 16s-7.2 16-16 16H143.1c-7.9 0-15.1-7.2-15.1-16s7.2-16 15.1-16zM384 448H96c-17.67 0-32-14.33-32-32s14.33-32 32-32h288v64z"/>'},e)}function Sa(e){return F({a:{viewBox:"0 0 512 512"},c:'<path d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0zM80.72 256h-1.09c-9.078 0-16.4-8.011-15.56-17.34C72.36 146 146.5 72.06 239.3 64.06c9-.78 16.7 6.69 16.7 16.03 0 8.35-6.215 15.28-14.27 15.99C164.7 102.9 103.1 164.3 96.15 241.4c-.75 8.2-7.38 14.6-15.43 14.6zM256 351.1c-53.02 0-96-43-96-95.1s42.98-96 96-96 96 43 96 96-43 95.1-96 95.1zm0-127.1c-17.7 0-32 14.2-32 32s14.3 32 32 32 32-14.25 32-32-14.3-32-32-32z"/>'},e)}function Ca(e){return F({a:{viewBox:"0 0 448 512"},c:'<path d="M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.82 100.3 0 224 0s224 35.82 224 80zm-54.8 134.7c19.9-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.93 11.7 34.02 21.2 54.85 28.6C99.66 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zm-338.35 160C99.66 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c19.9-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432v-85.9c14.93 11.7 34.02 21.2 54.85 28.6z"/>'},e)}function _r(e){return F({a:{viewBox:"0 0 512 512"},c:'<path d="M16 96c0-26.51 21.49-48 48-48s48 21.49 48 48c0 26.5-21.49 48-48 48s-48-21.5-48-48zm464-32c17.7 0 32 14.33 32 32 0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32 0-17.67 14.3-32 32-32h288zm0 160c17.7 0 32 14.3 32 32s-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32h288zm0 160c17.7 0 32 14.3 32 32s-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32h288zM16 416c0-26.5 21.49-48 48-48s48 21.5 48 48-21.49 48-48 48-48-21.5-48-48zm96-160c0 26.5-21.49 48-48 48s-48-21.5-48-48 21.49-48 48-48 48 21.5 48 48z"/>'},e)}const Or=()=>{const{pathname:e}=j(),t=q(()=>["",...e().split("/").filter(Boolean)]),n=k(),{setPathAs:o}=R();return r(un,{class:"nav",w:"$full",get children(){return r(qe,{get each(){return t()},children:(a,s)=>{const i=q(()=>s()===t().length-1),c=t().slice(0,s()+1).join("/"),d=on(c);let l=()=>a;return l()===""&&(l=()=>ce("home_icon")+n("manage.sidemenu.home")),r(an,{class:"nav-item",get children(){return[r(sn,{class:"nav-link",css:{wordBreak:"break-all"},color:"unset",get _hover(){return{bgColor:Ot(),color:"unset"}},_active:{transform:"scale(.95)",transition:"0.1s"},cursor:"pointer",p:"$1",rounded:"$lg",get currentPage(){return i()},get as(){return i()?void 0:xt},get href(){return cn(d)},onMouseEnter:()=>o(c),children:l}),r($,{get when(){return!i()},get children(){return r(ln,{class:"nav-separator"})}})]}})}})}})},xr=de(()=>he(()=>import("./Folder.587d6281.js").then(e=>e.F),["assets/Folder.587d6281.js","assets/Folder.f30acd2b.css","assets/index.403084e8.js","assets/index.659f4289.css","assets/useT.fc5c14e1.js","assets/useUtil.2596da07.js","assets/api.15bf4f8b.js","assets/obj.fca5b341.js"])),kr=de(()=>he(()=>import("./File.bb9e80a5.js").then(e=>e.a),["assets/File.bb9e80a5.js","assets/index.403084e8.js","assets/index.659f4289.css","assets/useT.fc5c14e1.js","assets/useUtil.2596da07.js","assets/api.15bf4f8b.js","assets/icon.f319a62d.js","assets/index.a2a99c3e.js","assets/obj.fca5b341.js"])),Mr=de(()=>he(()=>import("./Password.3dd1151c.js"),["assets/Password.3dd1151c.js","assets/index.403084e8.js","assets/index.659f4289.css","assets/useT.fc5c14e1.js","assets/index.a2a99c3e.js","assets/useTitle.07ecabdb.js","assets/Markdown.9c9fcc86.js","assets/api.15bf4f8b.js","assets/useUtil.2596da07.js","assets/index.11c046a7.js","assets/FolderTree.a679b49c.js"]));let at=!0;const $r=()=>{const e=Me("white","$neutral3"),{pathname:t}=j(),{handlePathChange:n}=R();return kt(Ge(t,o=>{Yn(),at||Sr(),at=!1,n(o)})),r(te,{class:"obj-box",w:"$full",rounded:"$xl",get bgColor(){return e()},p:"$2",shadow:"$lg",spacing:"$2",get children(){return r(Ke,{get fallback(){return r(me,{})},get children(){return r(Mt,{get children(){return[r(K,{get when(){return O.err},get children(){return r(dn,{get msg(){return O.err},disableColor:!0})}}),r(K,{get when(){return[C.FetchingObj,C.FetchingObjs].includes(O.state)},get children(){return r(me,{})}}),r(K,{get when(){return O.state===C.NeedPassword},get children(){return r(Mr,{})}}),r(K,{get when(){return[C.Folder,C.FetchingMore].includes(O.state)},get children(){return r(xr,{})}}),r(K,{get when(){return O.state===C.File},get children(){return r(kr,{})}})]}})}})}})},Er=()=>{const e=Me("white","$neutral3"),{proxyLink:t}=Rt(),n=q(Ge(()=>O.state,()=>{if(![C.FetchingMore,C.Folder,C.File].includes(O.state))return"";if(O.readme)return O.readme;if([C.FetchingMore,C.Folder].includes(O.state)){const s=O.objs.find(i=>i.name.toLowerCase()==="readme.md");if(s)return t(s,!0)}return""})),o=async s=>/^https?:\/\//g.test(s)?await rr(s):{content:s},[a]=hn(n,o);return r($,{get when(){return n()},get children(){return r($e,{w:"$full",rounded:"$xl",p:"$4",get bgColor(){return e()},shadow:"$lg",get children(){return r(gn,{get loading(){return a.loading},get children(){return r(Bt,{get children(){var s;return(s=a())==null?void 0:s.content}})}})}})}})},zt=e=>{const t=ce("home_container");return r(Mt,{get fallback(){return r($e,{w:"min(99%, 980px)",get children(){return e.children}})},get children(){return r(K,{when:t==="hope_container",get children(){return r(fn,{get children(){return e.children}})}})}})},Tr=()=>r(zt,{get children(){return r(te,{class:"body",mt:"$1",py:"$2",px:"2%",minH:"80vh",w:"$full",gap:"$4",get children(){return[r(Or,{}),r($r,{}),r(Er,{})]}})}}),Ar=Xe("<span>|</span>"),Pr=()=>{const e=k();return r(te,{class:"footer",w:"$full",py:"$4",get children(){return r(Q,{spacing:"$1",get children(){return[r(pn,{href:"https://github.com/Xhofe/alist",external:!0,get children(){return e("home.footer.powered_by")}}),Ar.cloneNode(!0),r(gr,{as:xt,get href(){return we.is_guest(be())?"/@login":"/@manage"},get children(){return e(we.is_guest(be())?"login.login":"home.footer.manage")}})]}})}})},Fr=()=>{const e=ce("logo").split(`
`),t=Me(e[0],e.pop());return r($t,{class:"header",w:"$full",get children(){return r(zt,{get children(){return r(Q,{px:"calc(2% + 0.5rem)",py:"$2",w:"$full",justifyContent:"space-between",get children(){return[r(Q,{class:"header-left",h:"44px",get children(){return r(mn,{get src(){return t()},h:"$full",w:"auto",get fallback(){return r(wn,{})}})}}),r(Q,{class:"header-right",spacing:"$2",get children(){return r($,{get when(){return O.state===C.Folder},get children(){return r(bn,{"aria-label":"switch layout",compact:!0,size:"lg",get icon(){return r($,{get when(){return et()==="list"},get fallback(){return r(_r,{})},get children(){return r(fr,{})}})},onClick:()=>{vn(et()==="list"?"grid":"list")}})}})}})]}})}})}})};function Lr(e){return F({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M9 11l3 3 8-8"/><path d="M20 12v6a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h9"/>'},e)}function jr(e){return F({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><rect width="12" height="12" x="8" y="8" rx="2"/><path d="M16 8V6a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2h2"/>'},e)}function Dr(e){return F({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2zM9 15h6"/><path d="M12.5 17.5L15 15l-2.5-2.5"/>'},e)}function Ir(e){return F({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5 0 005 0l4-4a3.5 3.5 0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5 0 00-5 0l-4 4a3.5 3.5 0 005 5l.5-.5"/>'},e)}const ie={rename:{icon:pr,color:"$accent9"},copy:{icon:jr,color:"$success9"},move:{icon:Dr,color:"$warning9"},delete:{icon:yn,color:"$danger9"},copy_link:{icon:Ir,color:"$info9"},mkdir:{icon:mr,p:!0},new_file:{icon:wr,p:!0},cancel_select:{icon:br},download:{icon:Sn,color:"$primary9"}},ve=e=>{const t=Cn.findIndex(o=>o===e.name);if(t!==-1&&!we.can(be(),t))return null;const n=k();return r(Tt,{placement:"top",withArrow:!0,get label(){return n(`home.toolbar.${e.name}`)},get children(){return r(Et,Ee({get class(){return`toolbar-${e.name}`},get _hover(){return{bgColor:Ot()}},_focus:{outline:"none"},cursor:"pointer",boxSize:"$7",rounded:"$md",get p(){var o;return(o=ie[e.name])!=null&&o.p?"$1_5":"$1"},_active:{transform:"scale(.94)",transition:"0.2s"},get as(){var o;return(o=ie[e.name])==null?void 0:o.icon},get color(){var o;return(o=ie[e.name])==null?void 0:o.color}},e))}})},D=e=>{const t=k();return r(Tt,{get disabled(){return!e.tips},placement:"left",withArrow:!0,get label(){return t(`home.toolbar.${e.tips}`)},get children(){return r(Et,Ee({color:"$info9",_hover:{bgColor:"$info9",color:"white"},_focus:{outline:"none"},cursor:"pointer",boxSize:"$8",rounded:"$lg",p:"$1",_active:{transform:"scale(.94)",transition:"0.2s"},get as(){return e.icon}},e))}})},Br=()=>{const e=k(),{copySelectedPreviewPage:t,copySelectedRawLink:n}=hr(),o="neutral";return r(Ft,{placement:"top",offset:10,get children(){return[r(At,{as:ve,name:"copy_link"}),r(Pt,{get children(){return[r(Z,{colorScheme:o,onSelect:()=>{t()},get children(){return e("home.toolbar.preview_page")}}),r(Z,{colorScheme:o,onSelect:()=>{n()},get children(){return e("home.toolbar.down_link")}}),r(Z,{colorScheme:o,onSelect:()=>{n(!0)},get children(){return e("home.toolbar.encode_down_link")}})]}})]}})},Rr=Xe("<p></p>"),Vr=()=>{const e=k(),t="neutral",{batchDownloadSelected:n,sendToAria2:o}=Cr();return r(Ft,{placement:"top",offset:10,get children(){return[r(At,{as:ve,name:"download"}),r(Pt,{get children(){return[r(Z,{colorScheme:t,onSelect:n,get children(){return e("home.toolbar.batch_download")}}),r($,{get when(){return we.is_admin(be())||_n("package_download")},get children(){return r(Z,{colorScheme:t,onSelect:()=>{v.emit("tool","package_download")},get children(){return e("home.toolbar.package_download")}})}}),r(Z,{colorScheme:t,onSelect:o,get children(){return e("home.toolbar.send_aria2")}})]}})]}})},zr=de(()=>he(()=>import("./PackageDownload.b95a9b78.js"),["assets/PackageDownload.b95a9b78.js","assets/index.403084e8.js","assets/index.659f4289.css","assets/useT.fc5c14e1.js","assets/api.15bf4f8b.js","assets/useUtil.2596da07.js"])),Ur=()=>{const e=k(),t=c=>{c==="package_download"&&o()};v.on("tool",t),E(()=>{v.off("tool",t)});const{isOpen:n,onOpen:o,onClose:a}=L(),[s,i]=pe("pre_tips");return r(ke,{blockScrollOnMount:!1,get opened(){return n()},onClose:a,closeOnOverlayClick:!1,closeOnEsc:!1,get children(){return[r(Ce,{}),r(_e,{get children(){return[r(Oe,{get children(){return e("home.toolbar.package_download")}}),r(Ke,{get fallback(){return r(me,{})},get children(){return r($,{get when(){return s()==="pre_tips"},get fallback(){return r(zr,{onClose:a})},get children(){return[r(xe,{get children(){const c=Rr.cloneNode(!0);return Lt(c,()=>e("home.toolbar.pre_package_download-tips")),c}}),r(We,{display:"flex",gap:"$2",get children(){return[r(ee,{onClick:a,colorScheme:"neutral",get children(){return e("global.cancel")}}),r(ee,{colorScheme:"info",onClick:()=>{i("package_download")},get children(){return e("global.confirm")}})]}})]}})}})]}})]}})};function Ut(e,t){e.indexOf(t)===-1&&e.push(t)}function Hr(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ht=(e,t,n)=>Math.min(Math.max(n,e),t),P={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},le=e=>typeof e=="number",J=e=>Array.isArray(e)&&!le(e[0]),Nr=(e,t,n)=>{const o=t-e;return((n-e)%o+o)%o+e};function Wr(e,t){return J(e)?e[Nr(0,e.length,t)]:e}const Nt=(e,t,n)=>-n*e+n*t+e,Wt=()=>{},z=e=>e,Qe=(e,t,n)=>t-e===0?1:(n-e)/(t-e);function qt(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const a=Qe(0,t,o);e.push(Nt(n,1,a))}}function qr(e){const t=[0];return qt(t,e-1),t}function Gr(e,t=qr(e.length),n=z){const o=e.length,a=o-t.length;return a>0&&qt(t,a),s=>{let i=0;for(;i<o-2&&!(s<t[i+1]);i++);let c=Ht(0,1,Qe(t[i],t[i+1],s));return c=Wr(n,i)(c),Nt(e[i],e[i+1],c)}}const Gt=e=>Array.isArray(e)&&le(e[0]),Re=e=>typeof e=="object"&&Boolean(e.createAnimation),ue=e=>typeof e=="function",Kr=e=>typeof e=="string",Fe={ms:e=>e*1e3,s:e=>e/1e3},Kt=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Xr=1e-7,Qr=12;function Zr(e,t,n,o,a){let s,i,c=0;do i=t+(n-t)/2,s=Kt(i,o,a)-e,s>0?n=i:t=i;while(Math.abs(s)>Xr&&++c<Qr);return i}function ae(e,t,n,o){if(e===t&&n===o)return z;const a=s=>Zr(s,0,1,e,n);return s=>s===0||s===1?s:Kt(a(s),t,o)}const Jr=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const o=n*e,a=t==="end"?Math.floor(o):Math.ceil(o);return Ht(0,1,a/e)},st={ease:ae(.25,.1,.25,1),"ease-in":ae(.42,0,1,1),"ease-in-out":ae(.42,0,.58,1),"ease-out":ae(0,0,.58,1)},Yr=/\((.*?)\)/;function it(e){if(ue(e))return e;if(Gt(e))return ae(...e);if(st[e])return st[e];if(e.startsWith("steps")){const t=Yr.exec(e);if(t){const n=t[1].split(",");return Jr(parseFloat(n[0]),n[1].trim())}}return z}class eo{constructor(t,n=[0,1],{easing:o,duration:a=P.duration,delay:s=P.delay,endDelay:i=P.endDelay,repeat:c=P.repeat,offset:d,direction:l="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=z,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((u,h)=>{this.resolve=u,this.reject=h}),o=o||P.easing,Re(o)){const u=o.createAnimation(n);o=u.easing,n=u.keyframes||n,a=u.duration||a}this.repeat=c,this.easing=J(o)?z:it(o),this.updateDuration(a);const m=Gr(n,d,J(o)?o.map(it):z);this.tick=u=>{var h;s=s;let g=0;this.pauseTime!==void 0?g=this.pauseTime:g=(u-this.startTime)*this.rate,this.t=g,g/=1e3,g=Math.max(g-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(g=this.totalDuration);const w=g/this.duration;let p=Math.floor(w),b=w%1;!b&&w>=1&&(b=1),b===1&&p--;const S=p%2;(l==="reverse"||l==="alternate"&&S||l==="alternate-reverse"&&!S)&&(b=1-b);const M=g>=this.totalDuration?1:Math.min(b,1),_=m(this.easing(M));t(_),this.pauseTime===void 0&&(this.playState==="finished"||g>=this.totalDuration+i)?(this.playState="finished",(h=this.resolve)===null||h===void 0||h.call(this,_)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class to{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const Le=new WeakMap;function Xt(e){return Le.has(e)||Le.set(e,{transforms:[],values:new Map}),Le.get(e)}function no(e,t){return e.has(t)||e.set(t,new to),e.get(t)}const ro=["","X","Y","Z"],oo=["translate","scale","rotate","skew"],ne={x:"translateX",y:"translateY",z:"translateZ"},ct={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},ao={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:ct,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:z},skew:ct},re=new Map,Ae=e=>`--motion-${e}`,ye=["x","y","z"];oo.forEach(e=>{ro.forEach(t=>{ye.push(e+t),re.set(Ae(e+t),ao[e])})});const so=(e,t)=>ye.indexOf(e)-ye.indexOf(t),io=new Set(ye),Ze=e=>io.has(e),co=(e,t)=>{ne[t]&&(t=ne[t]);const{transforms:n}=Xt(e);Ut(n,t),e.style.transform=Qt(n)},Qt=e=>e.sort(so).reduce(lo,"").trim(),lo=(e,t)=>`${e} ${t}(var(${Ae(t)}))`,Ve=e=>e.startsWith("--"),lt=new Set;function uo(e){if(!lt.has(e)){lt.add(e);try{const{syntax:t,initialValue:n}=re.has(e)?re.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:n})}catch{}}}const je=(e,t)=>document.createElement("div").animate(e,t),ut={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{je({opacity:[1]})}catch{return!1}return!0},finished:()=>Boolean(je({opacity:[0,1]},{duration:.001}).finished),linearEasing:()=>{try{je({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},De={},X={};for(const e in ut)X[e]=()=>(De[e]===void 0&&(De[e]=ut[e]()),De[e]);const ho=.015,go=(e,t)=>{let n="";const o=Math.round(t/ho);for(let a=0;a<o;a++)n+=e(Qe(0,o-1,a))+", ";return n.substring(0,n.length-2)},dt=(e,t)=>ue(e)?X.linearEasing()?`linear(${go(e,t)})`:P.easing:Gt(e)?fo(e):e,fo=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`;function po(e,t){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n?e[n-1]:t());return e}const mo=e=>Array.isArray(e)?e:[e];function ze(e){return ne[e]&&(e=ne[e]),Ze(e)?Ae(e):e}const se={get:(e,t)=>{t=ze(t);let n=Ve(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&n!==0){const o=re.get(t);o&&(n=o.initialValue)}return n},set:(e,t,n)=>{t=ze(t),Ve(t)?e.style.setProperty(t,n):e.style[t]=n}};function wo(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function bo(e,t){var n;let o=(t==null?void 0:t.toDefaultUnit)||z;const a=e[e.length-1];if(Kr(a)){const s=((n=a.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";s&&(o=i=>i+s)}return o}function vo(){return window.__MOTION_DEV_TOOLS_RECORD}function yo(e,t,n,o={},a){const s=vo(),i=o.record!==!1&&s;let c,{duration:d=P.duration,delay:l=P.delay,endDelay:m=P.endDelay,repeat:u=P.repeat,easing:h=P.easing,direction:g,offset:w,allowWebkitAcceleration:p=!1}=o;const b=Xt(e),S=Ze(t);let M=X.waapi();S&&co(e,t);const _=ze(t),V=no(b.values,_),T=re.get(_);return wo(V.animation,!(Re(h)&&V.generator)&&o.record!==!1),()=>{const H=()=>{var y,oe;return(oe=(y=se.get(e,_))!==null&&y!==void 0?y:T==null?void 0:T.initialValue)!==null&&oe!==void 0?oe:0};let f=po(mo(n),H);const A=bo(f,T);if(Re(h)){const y=h.createAnimation(f,t!=="opacity",H,_,V);h=y.easing,f=y.keyframes||f,d=y.duration||d}if(Ve(_)&&(X.cssRegisterProperty()?uo(_):M=!1),S&&!X.linearEasing()&&(ue(h)||J(h)&&h.some(ue))&&(M=!1),M){T&&(f=f.map(N=>le(N)?T.toDefaultUnit(N):N)),f.length===1&&(!X.partialKeyframes()||i)&&f.unshift(H());const y={delay:Fe.ms(l),duration:Fe.ms(d),endDelay:Fe.ms(m),easing:J(h)?void 0:dt(h,d),direction:g,iterations:u+1,fill:"both"};c=e.animate({[_]:f,offset:w,easing:J(h)?h.map(N=>dt(N,d)):void 0},y),c.finished||(c.finished=new Promise((N,en)=>{c.onfinish=N,c.oncancel=en}));const oe=f[f.length-1];c.finished.then(()=>{se.set(e,_,oe),c.cancel()}).catch(Wt),p||(c.playbackRate=1.000001)}else if(a&&S)f=f.map(y=>typeof y=="string"?parseFloat(y):y),f.length===1&&f.unshift(parseFloat(H())),c=new a(y=>{se.set(e,_,A?A(y):y)},f,Object.assign(Object.assign({},o),{duration:d,easing:h}));else{const y=f[f.length-1];se.set(e,_,T&&le(y)?T.toDefaultUnit(y):y)}return i&&s(e,t,f,{duration:d,delay:l,easing:h,repeat:u,offset:w},"motion-one"),V.setAnimation(c),c}}const So=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function Co(e,t){var n;return typeof e=="string"?t?((n=t[e])!==null&&n!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}function Zt(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}const _o={any:0,all:1};function Oo(e,t,{root:n,margin:o,amount:a="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const s=Co(e),i=new WeakMap,c=l=>{l.forEach(m=>{const u=i.get(m.target);if(m.isIntersecting!==Boolean(u))if(m.isIntersecting){const h=t(m);ue(h)?i.set(m.target,h):d.unobserve(m.target)}else u&&(u(m),i.delete(m.target))})},d=new IntersectionObserver(c,{root:n,rootMargin:o,threshold:typeof a=="number"?a:_o[a]});return s.forEach(l=>d.observe(l)),()=>d.disconnect()}function xo(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!ko(e,t):e!==t}function ko(e,t){const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function Mo(e){return typeof e=="object"}function ht(e,t){if(Mo(e))return e;if(e&&t)return t[e]}let U;function $o(){if(!U)return;const e=U.sort(To).map(Ao);e.forEach(gt),e.forEach(gt),U=void 0}function Ie(e){U?Ut(U,e):(U=[e],requestAnimationFrame($o))}function Eo(e){U&&Hr(U,e)}const To=(e,t)=>e.getDepth()-t.getDepth(),Ao=e=>e.animateUpdates(),gt=e=>e.next(),ft=(e,t)=>new CustomEvent(e,{detail:{target:t}});function Ue(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:n}}))}function pt(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:n}}))}const Po={isActive:e=>Boolean(e.inView),subscribe:(e,{enable:t,disable:n},{inViewOptions:o={}})=>{const{once:a}=o,s=Zt(o,["once"]);return Oo(e,i=>{if(t(),pt(e,"viewenter",i),!a)return c=>{n(),pt(e,"viewleave",c)}},s)}},mt=(e,t,n)=>o=>{o.pointerType&&o.pointerType!=="mouse"||(n(),Ue(e,t,o))},Fo={isActive:e=>Boolean(e.hover),subscribe:(e,{enable:t,disable:n})=>{const o=mt(e,"hoverstart",t),a=mt(e,"hoverend",n);return e.addEventListener("pointerenter",o),e.addEventListener("pointerleave",a),()=>{e.removeEventListener("pointerenter",o),e.removeEventListener("pointerleave",a)}}},Lo={isActive:e=>Boolean(e.press),subscribe:(e,{enable:t,disable:n})=>{const o=s=>{n(),Ue(e,"pressend",s),window.removeEventListener("pointerup",o)},a=s=>{t(),Ue(e,"pressstart",s),window.addEventListener("pointerup",o)};return e.addEventListener("pointerdown",a),()=>{e.removeEventListener("pointerdown",a),window.removeEventListener("pointerup",o)}}},fe={inView:Po,hover:Fo,press:Lo},wt=["initial","animate",...Object.keys(fe),"exit"],He=new WeakMap;function jo(e={},t){let n,o=t?t.getDepth()+1:0;const a={initial:!0,animate:!0},s={},i={};for(const p of wt)i[p]=typeof e[p]=="string"?e[p]:t==null?void 0:t.getContext()[p];const c=e.initial===!1?"animate":"initial";let d=ht(e[c]||i[c],e.variants)||{},l=Zt(d,["transition"]);const m=Object.assign({},l);function*u(){var p,b;const S=l;l={};const M={};for(const f of wt){if(!a[f])continue;const A=ht(e[f]);if(!!A)for(const y in A)y!=="transition"&&(l[y]=A[y],M[y]=So((b=(p=A.transition)!==null&&p!==void 0?p:e.transition)!==null&&b!==void 0?b:{},y))}const _=new Set([...Object.keys(l),...Object.keys(S)]),V=[];_.forEach(f=>{var A;l[f]===void 0&&(l[f]=m[f]),xo(S[f],l[f])&&((A=m[f])!==null&&A!==void 0||(m[f]=se.get(n,f)),V.push(yo(n,f,l[f],M[f],eo)))}),yield;const T=V.map(f=>f()).filter(Boolean);if(!T.length)return;const H=l;n.dispatchEvent(ft("motionstart",H)),Promise.all(T.map(f=>f.finished)).then(()=>{n.dispatchEvent(ft("motioncomplete",H))}).catch(Wt)}const h=(p,b)=>()=>{a[p]=b,Ie(w)},g=()=>{for(const p in fe){const b=fe[p].isActive(e),S=s[p];b&&!S?s[p]=fe[p].subscribe(n,{enable:h(p,!0),disable:h(p,!1)},e):!b&&S&&(S(),delete s[p])}},w={update:p=>{!n||(e=p,g(),Ie(w))},setActive:(p,b)=>{!n||(a[p]=b,Ie(w))},animateUpdates:u,getDepth:()=>o,getTarget:()=>l,getOptions:()=>e,getContext:()=>i,mount:p=>(n=p,He.set(n,w),g(),()=>{He.delete(n),Eo(w);for(const b in s)s[b]()}),isMounted:()=>Boolean(n)};return w}function Do(e){const t={},n=[];for(let o in e){const a=e[o];Ze(o)&&(ne[o]&&(o=ne[o]),n.push(o),o=Ae(o));let s=Array.isArray(a)?a[0]:a;const i=re.get(o);i&&(s=le(a)?i.toDefaultUnit(a):a),t[o]=s}return n.length&&(t.transform=Qt(n)),t}const Io={initial:()=>!0,addCleanup:E,addMount:Dt},Ne=jt(),Jt=jt(Io);function Bo(e,t,n,o){const{addCleanup:a,addMount:s,initial:i}=n,c=jo(i()?t():{...t(),initial:!1},o);return s(On.bind(void 0,xn(),()=>{a(c.mount(e())),kt(()=>c.update(t()))})),c}const Ro=/([^:; ]*):\s*([^;]*)/g;function bt(e){const t={};let n;for(;n=Ro.exec(e);)t[n[1]]=n[2];return t}function Vo(e,t){if(typeof e=="object"&&typeof t=="object")return{...e,...t};if(typeof e=="string"&&typeof t=="string")return`${e};${t}`;const n=typeof e=="object"?e:bt(e),o=typeof t=="object"?t:bt(t);return{...n,...o}}const vt=e=>{const[t,,n]=kn(e,["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],["tag","ref","style","onMotionStart","onMotionComplete","onHoverStart","onHoverEnd","onPressStart","onPressEnd","onViewEnter","onViewLeave"]),o=Bo(()=>s,()=>({...t}),tt(Jt),tt(Ne)),a=Do(o.getTarget());let s;return r(Ne.Provider,{value:o,get children(){return r(Mn,Ee({ref:i=>{var c;s=i,(c=e.ref)==null||c.call(e,i)},get component(){return It(()=>e.tag||"div")},get style(){return Be(()=>!!e.style,!0)()?Vo(e.style,a):a},get["on:motionstart"](){return e.onMotionStart},get["on:motioncomplete"](){return e.onMotionComplete},get["on:hoverstart"](){return e.onHoverStart},get["on:hoverend"](){return e.onHoverEnd},get["on:pressstart"](){return e.onPressStart},get["on:pressend"](){return e.onPressEnd},get["on:viewenter"](){return e.onViewEnter},get["on:viewleave"](){return e.onViewLeave}},n))}})},Yt=new Proxy(vt,{get:(e,t)=>n=>(delete n.tag,r(vt,Ee(n,{tag:t})))}),zo=e=>(e=Array.isArray(e)?e[0]:e,e instanceof Element?e:void 0),Uo=(e,t)=>{const n={once:!0};e.addEventListener("motioncomplete",t,n),E(e.removeEventListener.bind(e,"motioncomplete",t,n))},Ho=e=>{let{initial:t=!0}=e;Dt(()=>t=!0);let n=!1,o=[],a=[],s=[];return E(()=>{s.concat(a).forEach(i=>i()),a=s=o=[]}),r(Jt.Provider,{value:{addCleanup:i=>a.push(i),addMount:i=>o.push(i),initial:()=>t},get children(){return r(Ne.Provider,{value:void 0,get children(){return It(()=>{const i=$n(()=>e.children),c=q(()=>zo(i())),[d,l]=pe(),[m,u]=pe();return En(Ge(c,w=>{s.push(...a),a=[],Tn(()=>{e.exitBeforeEnter?(l(),g(()=>!n&&h(w))):(h(w),g())})})),[d,m];function h(w){l(w),o.forEach(p=>p()),o=[]}function g(w){var M;const p=()=>{u(),s.forEach(_=>_()),s=[],w==null||w()},b=u((M=d())!=null?M:m());if(!b)return p();const S=He.get(b);if(!S||!S.getOptions().exit)return p();S.setActive("exit",n=!0),Uo(b,()=>{n=!1,p()})}})}})}})},No=()=>{const e=q(()=>[C.Folder,C.FetchingMore].includes(O.state)&&An()&&Pn());return r(Ho,{exitBeforeEnter:!0,get children(){return r($,{get when(){return e()},get children(){return r($e,{class:"center-toolbar",pos:"fixed",bottom:"$4",right:"50%",w:"max-content",color:"$neutral11",get as(){return Yt.div},initial:{opacity:0,scale:.9,x:"50% ",y:10},animate:{opacity:1,scale:1,x:"50%",y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},get children(){return r(Q,{p:"$2",get bgColor(){return Me("white","#000000d0")()},spacing:"$1",shadow:"0px 10px 30px -5px rgba(0, 0, 0, 0.3)",rounded:"$lg",css:{backdropFilter:"blur(8px)"},get children(){return[r(qe,{each:["rename","move","copy","delete"],children:t=>r(ve,{name:t,onClick:()=>{v.emit("tool",t)}})}),r(Br,{}),r(Vr,{}),r(ve,{name:"cancel_select",onClick:()=>{Fn(!1)}})]}})}})}})}})},Wo=()=>{const{isOpen:e,onToggle:t}=L({defaultIsOpen:localStorage.getItem("more-open")==="true",onClose:()=>localStorage.setItem("more-open","false"),onOpen:()=>localStorage.setItem("more-open","true")}),n=q(()=>e()?"$4":"$5"),o=q(()=>O.state===C.Folder),{refresh:a}=R();return r($e,{class:"left-toolbar-box",pos:"fixed",get right(){return n()},get bottom(){return n()},get children(){return r($,{get when(){return e()},get fallback(){return r(D,{class:"toolbar-toggle",as:rt,onClick:()=>{t()}})},get children(){return r(te,{class:"left-toolbar",p:"$1",rounded:"$lg",spacing:"$1",bgColor:"$neutral1",get as(){return Yt.div},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{duration:.2},get children(){return[r(te,{spacing:"$1",class:"left-toolbar-in",get children(){return[r($,{get when(){return Be(()=>!!o(),!0)()&&(nt("write")||O.write)},get children(){return[r(D,{as:vr,tips:"refresh",onClick:()=>{a(void 0,!0)}}),r(D,{get as(){return ie.new_file.icon},tips:"new_file",onClick:()=>{v.emit("tool","new_file")}}),r(D,{get as(){return ie.mkdir.icon},p:"$1_5",tips:"mkdir",onClick:()=>{v.emit("tool","mkdir")}}),r(D,{as:Ln,tips:"upload",onClick:()=>{v.emit("tool","upload")}})]}}),r($,{get when(){return Be(()=>!!o(),!0)()&&nt("offline_download")},get children(){return r(D,{as:jn,pl:"0",tips:"offline_download",onClick:()=>{v.emit("tool","offline_download")}})}}),r(D,{tips:"toggle_checkbox",as:Lr,onClick:Dn}),r(D,{as:In,tips:"local_settings",onClick:()=>{v.emit("tool","local_settings")}})]}}),r(D,{tips:"more",as:rt,onClick:t})]}})}})}})},qo=()=>{const{isOpen:e,onOpen:t,onClose:n}=L(),[o,a]=B(or),{pathname:s}=j(),{refresh:i}=R(),c=d=>{d==="copy"&&t()};return v.on("tool",c),E(()=>{v.off("tool",c)}),r(Vt,{get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async d=>{const l=await a(s(),d,Y().map(m=>m.name));G(l,()=>{i(),n()})}})},Go=()=>{const{isOpen:e,onOpen:t,onClose:n}=L(),[o,a]=B(ar),{pathname:s}=j(),{refresh:i}=R(),c=d=>{d==="move"&&t()};return v.on("tool",c),E(()=>{v.off("tool",c)}),r(Vt,{get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async d=>{const l=await a(s(),d,Y().map(m=>m.name));G(l,()=>{i(),n()})}})},Ko=Xe("<p></p>"),Xo=()=>{const e=k(),{isOpen:t,onOpen:n,onClose:o}=L(),[a,s]=B(sr),{refresh:i}=R(),{pathname:c}=j(),d=l=>{l==="delete"&&n()};return v.on("tool",d),E(()=>{v.off("tool",d)}),r(ke,{blockScrollOnMount:!1,get opened(){return t()},onClose:o,size:{"@initial":"xs","@md":"md"},get children(){return[r(Ce,{}),r(_e,{get children(){return[r(Oe,{get children(){return e("home.toolbar.delete")}}),r(xe,{get children(){const l=Ko.cloneNode(!0);return Lt(l,()=>e("home.toolbar.delete-tips")),l}}),r(We,{display:"flex",gap:"$2",get children(){return[r(ee,{onClick:o,colorScheme:"neutral",get children(){return e("global.cancel")}}),r(ee,{colorScheme:"danger",get loading(){return a()},onClick:async()=>{const l=await s(c(),Y().map(m=>m.name));G(l,()=>{i(),o()})},get children(){return e("global.confirm")}})]}})]}})]}})},Qo=()=>{const{isOpen:e,onOpen:t,onClose:n}=L(),o=k(),[a,s]=B(ir),{pathname:i}=j(),{refresh:c}=R(),d=l=>{if(l==="rename"){if(!Bn()){W.warning(o("home.toolbar.only_one-tips"));return}t()}};return v.on("tool",d),E(()=>{v.off("tool",d)}),r($,{get when(){return e()},get children(){return r(Te,{title:"home.toolbar.input_new_name",get opened(){return e()},onClose:n,get defaultValue(){var l,m;return(m=(l=Y()[0])==null?void 0:l.name)!=null?m:""},get loading(){return a()},onSubmit:async l=>{const m=await s(Se(i(),Y()[0].name),l);G(m,()=>{c(),n()})}})}})},Zo=()=>{const{isOpen:e,onOpen:t,onClose:n}=L(),[o,a]=B(cr),{refresh:s}=R(),{pathname:i}=j(),c=d=>{d==="new_file"&&t()};return v.on("tool",c),E(()=>{v.off("tool",c)}),r(Te,{title:"home.toolbar.input_filename",get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async d=>{const l=await a(Se(i(),d));G(l,()=>{s(),n()})}})},Jo=()=>{const{isOpen:e,onOpen:t,onClose:n}=L(),[o,a]=B(lr),{pathname:s}=j(),{refresh:i}=R(),c=d=>{d==="mkdir"&&t()};return v.on("tool",c),E(()=>{v.off("tool",c)}),r(Te,{title:"home.toolbar.input_dir_name",get opened(){return e()},onClose:n,get loading(){return o()},onSubmit:async d=>{const l=await a(Se(s(),d));G(l,()=>{i(),n()})}})},Yo=()=>{const e=k(),{isOpen:t,onOpen:n,onClose:o}=L(),[a,s]=B(ur),{pathname:i}=j(),c=d=>{d==="offline_download"&&n()};return v.on("tool",c),E(()=>{v.off("tool",c)}),r(Te,{title:"home.toolbar.offline_download",type:"text",get opened(){return t()},onClose:o,get loading(){return a()},get tips(){return e("home.toolbar.offline_download-tips")},onSubmit:async d=>{const l=await s(i(),d.split(`
`));G(l,()=>{o()})}})},ea=e=>{const t=k(),n=i=>{i===e.name&&a()};v.on("tool",n),E(()=>{v.off("tool",n)});const{isOpen:o,onOpen:a,onClose:s}=L();return r(ke,{get blockScrollOnMount(){return e.blockScrollOnMount},get opened(){return o()},onClose:s,closeOnOverlayClick:!1,closeOnEsc:!1,size:{"@initial":"xs","@md":"md","@lg":"lg","@xl":"xl","@2xl":"2xl"},get children(){return[r(Ce,{}),r(_e,{get children(){return[r(Rn,{}),r(Oe,{get children(){return t(e.title)}}),r(xe,{get children(){return r($,{get when(){return o()},get children(){return r(Ke,{get fallback(){return r(me,{})},get children(){return e.children}})}})}})]}})]}})},ta=e=>{const t=k();return r(Zn,{get children(){return[r(Xn,{get children(){return t(`home.local_settings.${e.name}`)}}),r(_t,{get value(){return Ct[e.name]},onInput:n=>{Qn(e.name,n.currentTarget.value)}})]}})},na=()=>{const{isOpen:e,onOpen:t,onClose:n}=L(),o=k(),a=s=>{s==="local_settings"&&t()};return v.on("tool",a),E(()=>{v.off("tool",a)}),r(Kn,{get opened(){return e()},placement:"right",onClose:n,get children(){return[r(Vn,{}),r(zn,{get children(){return[r(Un,{}),r(Hn,{color:"$info9",get children(){return o("home.toolbar.local_settings")}}),r(Nn,{get children(){return[r(te,{spacing:"$2",get children(){return r(qe,{get each(){return Object.keys(Wn)},children:s=>r(ta,{name:s})})}}),r($t,{mt:"$4",get children(){return r(Q,{spacing:"$4",p:"$2",color:"$neutral11",get children(){return[r(qn,{}),r(Gn,{})]}})}})]}})]}})]}})},ra=de(()=>he(()=>import("./Upload.ee5d17b6.js"),["assets/Upload.ee5d17b6.js","assets/index.403084e8.js","assets/index.659f4289.css","assets/useT.fc5c14e1.js","assets/index.11c046a7.js"])),oa=()=>[r(qo,{}),r(Go,{}),r(Qo,{}),r(Xo,{}),r(Zo,{}),r(Jo,{}),r(Yo,{}),r(Ur,{}),r(ea,{name:"upload",title:"home.toolbar.upload",get children(){return r(ra,{})}}),r(na,{})],aa=()=>r(Jn,{get children(){return[r(Wo,{}),r(No,{}),r(oa,{})]}}),sa=()=>{er(ce("site_title"));const e=ce("announcement");return e&&W.render(()=>r(Bt,{children:e})),[r(Fr,{}),r(aa,{}),r(Tr,{}),r(Pr,{})]},_a=Object.freeze(Object.defineProperty({__proto__:null,default:sa},Symbol.toStringTag,{value:"Module"}));export{ba as F,_a as L,Yt as M,va as a,R as b,yr as c,wa as d,Ca as e,ya as f,ma as g,Sa as h,ie as o,Cr as u};
